<template>
  <svg
   id="uuid-136a359a-cd95-4c25-b77f-632ccf5b9886"
   viewBox="0 0 218.41703 219.13"
   version="1.1"
   :width="size"
   :height="size"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs5">
    <clipPath
       id="uuid-65ea41a6-95f1-4161-b4de-31cee3fa3c76">
      <rect
         x="27.652"
         y="20.743"
         width="219.13"
         height="219.13"
         rx="63.405998"
         ry="63.405998"
         fill="none"
         id="rect2" />
    </clipPath>
  </defs>
  <g
     clip-path="url(#uuid-65ea41a6-95f1-4161-b4de-31cee3fa3c76)"
     id="g13"
     transform="translate(-28.364988,-20.743)">
    <path
       d="m 246.762,129.911 c 0,21.425 -0.237,42.854 0.116,64.273 0.143,8.663 -1.318,17.024 -5.501,24.188 -2.592,4.438 -6.129,8.784 -10.165,12.672 -5.413,5.215 -12.174,7.18 -18.259,10.612 -4.092,2.308 -9.323,2.087 -14.048,2.104 -40.524,0.142 -81.05,0.3 -121.572,-0.029 C 61.803,243.605 49.022,237.415 39.146,224.684 32.391,215.977 28.357,206.88 28.365,195.917 28.395,151.074 28.362,106.232 28.431,61.389 28.447,50.68 33.195,41.837 39.73,33.671 46.59,25.1 55.113,19.429 65.896,17.083 c 1.828,-0.398 3.593,-0.504 5.395,-0.505 44.511,-0.018 89.025,-0.355 133.529,0.18 14.603,0.176 25.472,8.567 33.936,20.302 7.343,10.182 8.283,21.576 8.092,33.559 -0.314,19.759 -0.085,39.527 -0.085,59.291 z"
       :fill="dynamicColor"
       id="path7" />
    <path
       d="m 131.562,121.477 c -6.823,7.835 -14.822,12.506 -21.036,19.117 -4.518,4.807 -10.037,8.705 -13.576,14.389 -3.221,5.173 -0.127,9.59 2.695,13.471 2.155,2.964 4.972,5.076 9.69,3.478 13.817,-4.68 28.033,-7.994 42.162,-11.628 12.526,-3.221 25.314,-4.406 37.8,-7.44 5.698,-1.384 7.434,0.449 7.443,6.438 0.012,8.299 0.011,16.598 0,24.897 -0.007,5.835 -0.567,6.411 -6.65,6.412 -29.711,0.006 -59.421,-0.018 -89.132,-0.025 -6.307,-0.002 -12.616,0.109 -18.921,0.006 -5.929,-0.097 -6.88,-1.189 -6.871,-7.046 0.018,-12.443 0.157,-24.889 -0.048,-37.329 -0.078,-4.725 1.948,-6.719 6.221,-8.566 12.782,-5.524 26.324,-8.735 39.293,-13.647 3.007,-1.139 6.313,-1.488 10.929,-2.527 z"
       :fill="contrastColor"
       id="path9" />
    <path
       d="m 134.392,142.734 c 5.533,-8.204 12.846,-13.918 20.302,-19.254 4.135,-2.959 7.721,-6.697 12.551,-8.859 3.784,-1.693 3.381,-5.294 1.647,-8.527 -4.016,-7.487 -9.833,-9.738 -18.346,-7.82 -7.272,1.638 -14.259,4.101 -21.32,6.387 -3.422,1.108 -7,1.728 -10.433,2.805 -10.196,3.199 -20.357,6.51 -30.528,9.789 -3.214,1.036 -5.574,3.707 -8.967,4.523 -2.321,0.558 -3.134,0.159 -3.691,-2.305 -1.801,-7.967 1.778,-14.126 7.01,-19.104 3.037,-2.889 6.798,-5.347 10.386,-7.673 7.662,-4.967 14.364,-11.082 21.538,-16.626 5.921,-4.575 11.742,-9.245 17.192,-14.376 2.741,-2.58 5.404,-2.907 8.563,-0.235 7.492,6.335 14.913,12.82 22.902,18.484 9.468,6.712 17.888,14.734 27.588,21.168 3.395,2.252 6.635,5.641 6.064,10.969 -0.511,4.762 -0.226,9.625 -0.069,14.437 0.118,3.613 -1.596,5.235 -4.997,5.273 -7.627,0.086 -15.29,1.344 -22.4,3.362 -10.717,3.041 -21.864,3.903 -32.417,7.422 -0.746,0.249 -1.62,0.111 -2.575,0.161 z"
       :fill="contrastColor"
       id="path11" />
  </g>
</svg>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  size?: number | string
  filled?: boolean
  color?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: 24,
  filled: false,
  color: '#006AFF'
})

// Function to calculate luminance for better contrast
const getLuminance = (hex: string) => {
  // Remove # if present
  const color = hex.replace('#', '')
  
  // Convert to RGB
  const r = parseInt(color.substr(0, 2), 16) / 255
  const g = parseInt(color.substr(2, 2), 16) / 255  
  const b = parseInt(color.substr(4, 2), 16) / 255
  
  // Calculate relative luminance
  const rLinear = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4)
  const gLinear = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4)
  const bLinear = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4)
  
  return 0.2126 * rLinear + 0.7152 * gLinear + 0.0722 * bLinear
}

const dynamicColor = computed(() => props.color)

const contrastColor = computed(() => {
  const luminance = getLuminance(props.color)
  return luminance > 0.7 ? '#000000' : '#ffffff'
})
</script>