<template>
  <svg
   id="uuid-970fbf36-f679-434d-be8d-2d7fd62106f7"
   viewBox="0 0 219.13001 219.13"
   version="1.1"
   :width="size"
   :height="size"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs9" />
  <rect
     x="0"
     y="0"
     width="219.13"
     height="219.13"
     rx="63.405998"
     ry="63.405998"
     :fill="primaryColor"
     id="rect2" />
  <path
     d="m 104.733,57.488 c 16.595,0 33.19,-0.005 49.784,0.003 5.866,0.003 7.552,1.679 7.606,7.66 0.048,5.31 0.146,10.625 -0.036,15.929 -0.133,3.864 -1.145,7.258 -6.127,7.258 -4.443,0 -6.442,-2.134 -6.752,-7.219 -0.229,-3.751 1.712,-8.721 -0.874,-10.939 -2.701,-2.316 -7.623,-0.631 -11.57,-0.692 -7.134,-0.11 -14.273,0.075 -21.406,-0.083 -2.823,-0.062 -4.101,0.437 -4.085,3.739 0.133,27.215 0.116,54.431 0.017,81.646 -0.011,2.973 0.756,4.209 3.88,4.001 3.134,-0.209 6.317,-0.164 9.445,0.129 3.566,0.334 5.826,2.326 5.613,6.158 -0.204,3.675 -2.235,5.855 -6.012,5.871 -12.944,0.055 -25.888,0.079 -38.831,-0.017 -3.774,-0.028 -5.686,-2.35 -5.844,-6.032 -0.156,-3.637 2.062,-5.542 5.318,-5.911 3.445,-0.391 6.958,-0.302 10.436,-0.221 2.335,0.055 3.184,-0.761 3.179,-3.161 -0.062,-27.713 -0.064,-55.427 0.002,-83.14 0.006,-2.472 -0.964,-3.061 -3.231,-3.043 -10.454,0.084 -20.91,0.114 -31.363,-0.017 -2.654,-0.033 -3.518,0.864 -3.358,3.432 0.175,2.81 0.181,5.649 0,8.459 -0.254,3.941 -1.436,7.073 -6.371,7.071 -4.849,-0.002 -6.337,-2.944 -6.454,-6.968 -0.169,-5.803 -0.173,-11.619 0.003,-17.422 0.126,-4.172 1.967,-6.601 6.75,-6.553 16.759,0.167 33.521,0.065 50.282,0.065 z"
     :fill="textColor"
     id="path4" />
</svg>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  size?: number | string
  filled?: boolean
  color?: string
}

const props = withDefaults(defineProps<Props>(), {
  size: 24,
  filled: false,
  color: ''
})

// تابع برای تشخیص رنگ سفید
const isWhiteColor = (color: string): boolean => {
  if (!color || color === "transparent") return false
  
  // حذف # از ابتدای رنگ hex
  const hex = color.replace("#", "").toLowerCase()
  
  // بررسی اینکه رنگ سفید باشد
  return hex === "ffffff" || hex === "fff" || color.toLowerCase() === "white"
}

// رنگ اصلی آیکون - اگر کاربر رنگی انتخاب کرده باشد از آن استفاده کن، وگرنه رنگ پیش‌فرض
const primaryColor = computed(() => {
  if (props.color && props.color !== 'transparent') {
    return props.color
  }
  // رنگ پیش‌فرض سفید
  return '#ffffff'
})

// تعیین رنگ متن بر اساس رنگ پس‌زمینه
const textColor = computed(() => {
  return isWhiteColor(primaryColor.value) ? '#000000' : '#ffffff'
})
</script>