import{k as $,a as j,c as n,b as C,f as e,e as s,g as c,t as u,N as D,h as m,O as l,x as N,i as B,n as p}from"#entry";import{u as M}from"./DyClqVU4.js";import{useUserStore as z}from"./0dA2cnp7.js";const O={class:"min-h-screen bg-background"},R={class:"pt-[76px] pb-20 px-4 lg:px-6 space-y-4"},V={class:"bg-card rounded-2xl p-4 lg:p-6 border border-border shadow-sm"},E={class:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-4"},L={class:"flex items-center gap-3"},P={class:"text-xs text-muted-foreground"},A={class:"text-2xl lg:text-3xl font-bold text-primary"},F={class:"w-full h-2.5 lg:h-3 rounded-full bg-muted overflow-hidden"},H={class:"text-xs text-muted-foreground mt-3 text-center"},U={class:"space-y-3 lg:grid lg:grid-cols-2 lg:gap-4 lg:space-y-0"},q={class:"flex items-center gap-3 lg:gap-4"},G={class:"flex items-center gap-3 lg:gap-4"},I={class:"flex items-center gap-4"},J={class:"flex-1 min-w-0"},K={class:"text-sm text-muted-foreground mt-0.5"},_=$({__name:"account-status",setup(Q){N();const w=M(),y=z(),{$pwa:v}=j(),k=()=>{v?.safeNavigateBack?v.safeNavigateBack("/settings"):window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||window.history.length<=2?window.location.href="/settings":window.history.back()},d=n(()=>w.defaultCard),i=n(()=>y.user||{}),o=n(()=>({profile:{status:d.value?.avatar?"done":"pending"},link:{status:d.value?.linksDataList&&d.value.linksDataList.length>0?"done":"pending"},map:{status:"pending",disabled:!0},pro:{status:i.value?.isPro?"done":"pending"}})),x=n(()=>Object.keys(o.value).length),f=n(()=>Object.values(o.value).filter(r=>r.status==="done").length),b=n(()=>Math.round(f.value/x.value*100)),h=n(()=>{if(!i.value?.isPro)return"دسترسی به امکانات ویژه";const r=i.value.daysRemaining||i.value.days_remaining;if(r!=null)return r>30?`${Math.floor(r/30)} ماه باقی‌مانده`:`${r} روز باقی‌مانده`;const t=i.value.subscriptionEndDate||i.value.subscription_end_date;if(t){const a=new Date(t),T=new Date,S=a.getTime()-T.getTime(),g=Math.ceil(S/(1e3*60*60*24));return g>30?`${Math.floor(g/30)} ماه باقی‌مانده`:g>0?`${g} روز باقی‌مانده`:"اشتراک منقضی شده"}return"شما عضو پرمیوم هستید"});return(r,t)=>(B(),C("div",O,[e("div",{class:"fixed top-0 left-0 right-0 z-40 bg-card border-b border-border"},[e("div",{class:"flex items-center h-14 px-4 max-w-5xl mx-auto"},[e("button",{onClick:k,class:"flex items-center justify-center w-10 h-10 rounded-lg text-foreground hover:bg-accent transition-colors"},[...t[3]||(t[3]=[e("i",{class:"ti ti-arrow-right text-xl"},null,-1)])]),t[4]||(t[4]=s()),t[5]||(t[5]=e("h1",{class:"flex-1 text-lg font-semibold text-foreground"},"وضعیت حساب",-1))])]),t[30]||(t[30]=s()),e("div",R,[e("div",V,[e("div",E,[e("div",L,[t[8]||(t[8]=e("div",{class:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0"},[e("i",{class:"ti ti-chart-line text-primary text-xl lg:text-2xl"})],-1)),t[9]||(t[9]=s()),e("div",null,[t[6]||(t[6]=e("h3",{class:"font-bold text-foreground text-base lg:text-lg"},"پیشرفت کلی",-1)),t[7]||(t[7]=s()),e("p",P,u(f.value)+" از "+u(x.value)+" مرحله",1)])]),t[10]||(t[10]=s()),e("div",A,u(b.value)+"٪",1)]),t[11]||(t[11]=s()),e("div",F,[e("div",{class:"h-full rounded-full transition-all duration-500 bg-primary",style:D({width:b.value+"%"})},null,4)]),t[12]||(t[12]=s()),e("p",H,u(x.value-f.value)+` مرحله باقی‌مانده برای تکمیل پروفایل\r
        `,1)]),t[29]||(t[29]=c(` <div class="bg-blue-500/10 border border-blue-500/20 rounded-2xl p-4"><div class="flex gap-3"><i class="ti ti-info-circle text-xl text-blue-500 mt-0.5"></i> <div><h4 class="font-semibold text-foreground mb-1">چرا باید پروفایل را تکمیل کنم؟</h4> <p class="text-sm text-muted-foreground leading-relaxed">\r
              تکمیل پروفایل به شما کمک می‌کند تا بیشترین بازدید و تعامل را از کارت دیجیتال خود دریافت کنید.\r
            </p></div></div></div> `,3)),e("div",U,[t[25]||(t[25]=e("h3",{class:"font-bold text-foreground px-2 lg:col-span-2"},"چک‌لیست تکمیل",-1)),t[26]||(t[26]=s()),e("div",{class:l(["bg-card rounded-2xl p-3 lg:p-4 border transition-all cursor-pointer hover:shadow-md",o.value.profile.status==="done"?"border-green-500/30 bg-green-500/5":"border-primary/30 hover:border-primary/50"]),onClick:t[0]||(t[0]=a=>("navigateTo"in r?r.navigateTo:m(p))(`/dashboard/edit-card?id=${d.value?.id}&tab=about`))},[e("div",q,[e("div",{class:l(["w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",o.value.profile.status==="done"?"bg-green-500/20":"bg-primary/10"])},[e("i",{class:l(["ti text-xl lg:text-2xl",o.value.profile.status==="done"?"ti-check text-green-500":"ti-user-plus text-primary"])},null,2)],2),t[13]||(t[13]=s()),t[14]||(t[14]=e("div",{class:"flex-1 min-w-0"},[e("h4",{class:"font-semibold text-foreground text-sm lg:text-base"},"افزودن تصویر پروفایل"),s(),e("p",{class:"text-xs lg:text-sm text-muted-foreground mt-0.5"},"تصویر خود را اضافه کنید")],-1)),t[15]||(t[15]=s()),t[16]||(t[16]=e("i",{class:"ti ti-chevron-left text-lg lg:text-xl text-muted-foreground flex-shrink-0"},null,-1))])],2),t[27]||(t[27]=s()),e("div",{class:l(["bg-card rounded-2xl p-3 lg:p-4 border transition-all cursor-pointer hover:shadow-md",o.value.link.status==="done"?"border-green-500/30 bg-green-500/5":"border-primary/30 hover:border-primary/50"]),onClick:t[1]||(t[1]=a=>("navigateTo"in r?r.navigateTo:m(p))(`/dashboard/edit-card?id=${d.value?.id}&tab=links`))},[e("div",G,[e("div",{class:l(["w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",o.value.link.status==="done"?"bg-green-500/20":"bg-primary/10"])},[e("i",{class:l(["ti text-xl lg:text-2xl",o.value.link.status==="done"?"ti-check text-green-500":"ti-link text-primary"])},null,2)],2),t[17]||(t[17]=s()),t[18]||(t[18]=e("div",{class:"flex-1 min-w-0"},[e("h4",{class:"font-semibold text-foreground"},"افزودن اولین لینک"),s(),e("p",{class:"text-sm text-muted-foreground mt-0.5"},"لینک شبکه‌های اجتماعی را اضافه کنید")],-1)),t[19]||(t[19]=s()),t[20]||(t[20]=e("i",{class:"ti ti-chevron-left text-xl text-muted-foreground"},null,-1))])],2),t[28]||(t[28]=c(' <div class="bg-card rounded-2xl p-4 border border-border opacity-50 cursor-not-allowed"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-muted flex items-center justify-center flex-shrink-0"><i class="ti ti-map-pin text-2xl text-muted-foreground"></i></div> <div class="flex-1 min-w-0"><h4 class="font-semibold text-foreground">تنظیم نقشه</h4> <p class="text-sm text-muted-foreground mt-0.5">به زودی فعال می‌شود</p></div> <i class="ti ti-lock text-xl text-muted-foreground"></i></div></div> ',3)),e("div",{class:l(["bg-card rounded-2xl p-4 border transition-all hover:shadow-md",o.value.pro.status==="done"?"border-green-500/30 bg-green-500/5":"border-primary/30 bg-primary/5 hover:border-primary/50 cursor-pointer"]),onClick:t[2]||(t[2]=a=>o.value.pro.status!=="done"&&("navigateTo"in r?r.navigateTo:m(p))("/dashboard/checkout"))},[e("div",I,[e("div",{class:l(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",o.value.pro.status==="done"?"bg-green-500/20":"bg-primary/20"])},[e("i",{class:l(["ti text-2xl",o.value.pro.status==="done"?"ti-check text-green-500":"ti-crown text-primary"])},null,2)],2),t[23]||(t[23]=s()),e("div",J,[t[21]||(t[21]=e("h4",{class:"font-semibold text-foreground"},"عضویت حرفه‌ای",-1)),t[22]||(t[22]=s()),e("p",K,u(o.value.pro.status==="done"?h.value:"دسترسی به امکانات ویژه"),1)]),t[24]||(t[24]=s()),e("i",{class:l(["ti text-lg lg:text-xl flex-shrink-0",o.value.pro.status==="done"?"ti-circle-check text-green-500":"ti-chevron-left text-primary"])},null,2)])],2)])])]))}});export{_ as default};
