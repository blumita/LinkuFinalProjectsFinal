import{r as i,o as w,z as k,J as j,b as s,f as a,e as o,t as u,P as E,Q as L,y as b,E as p,F as q,i as r,O as F,h as N}from"#entry";import{_ as B}from"./DlAUqK2U.js";const M={class:"min-h-screen bg-white flex flex-col items-center py-8 px-2 sm:px-6"},T={class:"w-full max-w-2xl mb-8"},V={key:0,class:"flex justify-center items-center h-20"},z={key:1,class:"text-red-500 text-center py-4"},C={key:2},D={class:"mb-6"},H={class:"flex flex-wrap gap-2"},S={key:0,class:"flex justify-center items-center h-40"},I={key:1,class:"text-red-500 text-center py-8"},J={key:2},O={class:"flex flex-col items-center justify-center text-center mb-8 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm"},P={class:"text-3xl font-extrabold mb-4 text-gray-900 sm:text-4xl"},Q={key:0,class:"text-lg sm:text-xl text-gray-900 mb-4 font-medium animate-fadein"},R={key:1,class:"text-base text-gray-700 mb-4 animate-fadein"},$={key:2,class:"text-gray-400 text-base mb-4 animate-fadein"},A=["innerHTML"],G={__name:"feature",setup(K){const y=k(),d=i(!0),c=i(""),n=i({title:"",content:""}),m=i([]),g=i(!0),f=i("");async function _(){g.value=!0,f.value="";try{const t=await fetch("/api/features");if(!t.ok)throw new Error("خطا در دریافت لیست ویژگی‌ها");const e=await t.json();m.value=e}catch(t){f.value=t.message||"خطا در دریافت لیست ویژگی‌ها"}finally{g.value=!1}}async function v(t){d.value=!0,c.value="";try{if(!t){n.value={title:"",content:""},d.value=!1;return}const e=await fetch(`/api/features/${t}`);if(!e.ok)throw new Error("خطا در دریافت اطلاعات");const l=await e.json();n.value=l}catch(e){c.value=e.message||"خطا در دریافت اطلاعات"}finally{d.value=!1}}function h(t){if(!t)return"";const e=t.replace(/<[^>]+>/g,"").trim(),l=e.split(/[.!؟\n]/)[0];return l.length>0?l:e.slice(0,60)+"..."}return w(()=>{_(),v(y.query.slug)}),j(()=>y.query.slug,t=>{t&&v(t)}),(t,e)=>{const l=q;return r(),s("section",M,[a("div",T,[g.value?(r(),s("div",V,[...e[0]||(e[0]=[a("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"},null,-1),o(),a("span",{class:"mr-2"},"در حال دریافت لیست ویژگی‌ها...",-1)])])):f.value?(r(),s("div",z,u(f.value),1)):(r(),s("div",C,[a("div",D,[e[1]||(e[1]=a("h2",{class:"text-lg font-semibold mb-2 text-gray-800"},"ویژگی‌های اشتراک",-1)),e[2]||(e[2]=o()),e[3]||(e[3]=a("p",{class:"text-gray-500 text-sm mb-3"},"در این بخش می‌توانید با امکانات و قابلیت‌های ویژه اشتراک لینکو آشنا شوید. هر ویژگی را انتخاب کنید تا توضیحات کامل آن را مشاهده کنید.",-1)),e[4]||(e[4]=o()),a("ul",H,[(r(!0),s(E,null,L(m.value,x=>(r(),s("li",{key:x.slug},[b(l,{to:{path:"/dashboard/feature",query:{slug:x.slug}},class:F(["px-3 py-1 rounded bg-gray-50 hover:bg-gray-100 text-sm transition border border-gray-200",{"bg-gray-900 text-white font-bold border-gray-900":x.slug===N(y).query.slug}])},{default:p(()=>[o(u(x.title),1)]),_:2},1032,["to","class"])]))),128))])]),e[10]||(e[10]=o()),d.value?(r(),s("div",S,[...e[5]||(e[5]=[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1),o(),a("span",{class:"mr-3"},"در حال بارگذاری...",-1)])])):c.value?(r(),s("div",I,u(c.value),1)):(r(),s("div",J,[a("div",O,[a("h1",P,u(n.value.title),1),e[7]||(e[7]=o()),n.value.description?(r(),s("div",Q,u(n.value.description),1)):n.value.content?(r(),s("div",R,u(h(n.value.content)),1)):(r(),s("div",$,"توضیحی برای این ویژگی ثبت نشده است.")),e[8]||(e[8]=o()),a("div",{class:"prose max-w-none w-full text-right bg-gray-50 rounded-xl p-4 border border-gray-200 mb-6",innerHTML:n.value.content},null,8,A),e[9]||(e[9]=o()),b(l,{to:"/dashboard/upgrade",class:"inline-block bg-gray-900 hover:bg-black text-white font-bold px-8 py-3 rounded-xl text-lg shadow transition-all duration-200"},{default:p(()=>[...e[6]||(e[6]=[o("خرید اشتراک و فعال‌سازی این ویژگی",-1)])]),_:1})])]))]))])])}}},X=B(G,[["__scopeId","data-v-86e16c1d"]]);export{X as default};
