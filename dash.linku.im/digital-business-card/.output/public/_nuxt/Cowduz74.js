import{u as m}from"./D7shn9fE.js";import{k as f,r as c,o as v,L as x,b as n,f as r,e as i,M as b,i as l}from"#entry";import"./DW8xln-I.js";import"./Cuk9nQEh.js";const g={class:"min-h-screen bg-background"},y={class:"fixed top-0 left-0 right-0 z-50 bg-card border-b border-border"},k={class:"flex items-center justify-between px-4 h-16"},C={class:"pt-20 pb-6 px-4"},w={key:0,class:"flex items-center justify-center py-20"},E={key:1,class:"text-center py-20"},h={key:2,id:"crisp-container"},T=f({__name:"online",setup(S){const d=c(!0),s=c(""),u=async()=>{try{const{data:e}=await m("/api/support/info","$-umcDWmUmm");e.value?.data?.crispCode&&(s.value=e.value.data.crispCode,await b(),p())}catch(e){console.error("Error fetching support settings:",e)}finally{d.value=!1}},p=()=>{if(s.value)try{const e=document.createElement("div");e.innerHTML=s.value,e.querySelectorAll("script").forEach(o=>{const a=document.createElement("script");o.src?a.src=o.src:a.textContent=o.textContent,document.head.appendChild(a)})}catch(e){console.error("Error injecting Crisp script:",e)}};return v(()=>{u()}),x(()=>{const e=document.querySelector("[data-crisp-frame]");e&&e.remove()}),(e,t)=>(l(),n("div",g,[r("div",y,[r("div",k,[r("button",{onClick:t[0]||(t[0]=o=>e.$router.back()),class:"p-2 hover:bg-secondary rounded-lg transition-colors"},[...t[1]||(t[1]=[r("i",{class:"ti ti-arrow-right text-primary text-xl"},null,-1)])]),t[2]||(t[2]=i()),t[3]||(t[3]=r("h1",{class:"text-lg font-bold text-foreground"},"پشتیبانی آنلاین",-1)),t[4]||(t[4]=i()),t[5]||(t[5]=r("div",{class:"w-10"},null,-1))])]),t[8]||(t[8]=i()),r("div",C,[d.value?(l(),n("div",w,[...t[6]||(t[6]=[r("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)])])):s.value?(l(),n("div",h)):(l(),n("div",E,[...t[7]||(t[7]=[r("div",{class:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-4"},[r("i",{class:"ti ti-message-circle-off text-muted-foreground text-3xl"})],-1),i(),r("p",{class:"text-muted-foreground"},"چت آنلاین در حال حاضر غیرفعال است",-1)])]))])]))}});export{T as default};
