const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DFzjRZmv.js","./DSbZiSiZ.js","./Ct89Yiyn.js","./CU4qPF7-.js","./ngrFHoWO.js","./entry.BTsH7tao.css"])))=>i.map(i=>d[i]);
import{a as ho,j as ko}from"#entry";import{y as Fo,d as Y,r as v,a as jo,w as L,j as So,n as P,k as j,q as e,p as l,l as D,H as Io,L as E,Q as Ro,R as Lo,M as Z,O as V,s as _,N as Po,u as no,V as Do,E as qo,x as h,v as Uo}from"./Ct89Yiyn.js";import{Q as ao}from"./Bw9k-xBj.js";import{I as $o}from"./CFRFqJJ0.js";import{useUserStore as To}from"./BRBG3GYJ.js";import{u as Qo}from"./lVmvsOkf.js";import{_ as Ao}from"./DlAUqK2U.js";const Mo={class:"min-h-screen bg-background"},zo={class:"fixed top-0 left-0 right-0 z-40 bg-card border-b border-border"},Bo={class:"flex items-center justify-between h-14 px-4"},Eo={class:"px-4 pt-24 pb-32 lg:pb-8 overflow-y-auto"},No={class:"max-w-7xl mx-auto lg:grid lg:grid-cols-2 lg:gap-8 lg:items-start"},Wo={class:"hidden lg:block lg:sticky lg:top-24"},Oo={class:"bg-card rounded-2xl p-6 border border-border"},Ho={class:"flex justify-center mb-4"},Vo={class:"space-y-3"},Go=["disabled"],Jo=["disabled"],Xo={class:"space-y-4"},Ko={class:"lg:hidden flex justify-center mb-6"},Yo={class:"relative"},Zo={class:"bg-card rounded-xl border border-border p-5"},_o={class:"flex gap-1 flex-wrap"},oe=["onClick"],ee={class:"bg-card rounded-xl border border-border p-5"},te=["disabled"],re={class:"flex items-center gap-2"},le={key:0,class:"mt-3 p-3 bg-muted rounded-xl"},se={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},ae=["src"],ie={class:"lg:hidden fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-lg border-t border-border py-3 px-4 z-50"},de={class:"max-w-sm mx-auto"},ue={class:"flex gap-3"},ge=["disabled"],ce=["disabled"],fe={class:"bg-card rounded-t-2xl lg:rounded-2xl w-full lg:max-w-md p-6 animate-slide-up border-t lg:border border-border"},ve={class:"flex items-center justify-between mb-6"},pe={class:"space-y-2"},be={class:"bg-card rounded-t-2xl lg:rounded-2xl w-full lg:max-w-md p-6 animate-slide-up border-t lg:border border-border"},me={class:"flex items-center justify-between mb-6"},xe={class:"space-y-4"},we={class:"flex items-center gap-3 p-4 bg-muted rounded-xl"},Ce={class:"flex-1"},ye={class:"font-mono text-sm font-semibold text-foreground"},he={key:2,class:"fixed bottom-20 left-4 right-4 bg-green-600 text-white px-4 py-3 rounded-xl text-sm font-medium z-50 flex items-center gap-2"},ke=Fo({__name:"CustomizeQRPage",setup(Fe){const oo=qo(),m=To(),f=Qo(),{$axios:uo}=ho(),w=Y(()=>({isActive:m.isUserPro})),S=v(!1),b=v(!1),I=v("تنظیمات کیوآر کد ذخیره شد!");v(!1),v(247),v(1543);const g=v(null),go=v("#000000"),q=v(!1),x=v(null),U=v(null),N=v(!1),W=v(null),R=v(!1),G=Y(()=>{const t=m.user?.userName||m.user?.username;return t?`https://linku.im/${t}`:"https://linku.im"}),eo=Y(()=>f.defaultCard||f.cards?.[0]),to=()=>{if(f.matchThemeColor){const o=f.themeColor?.background;if(o&&o!=="transparent"&&o.startsWith("#"))return console.log("Using themeColor (matchThemeColor):",o),o}const t=f.iconColor;return console.log("getIconColor - formStore.iconColor:",t),t&&typeof t=="object"&&t.background&&t.background!=="transparent"&&t.background.startsWith("#")?(console.log("Using iconColor.background:",t.background),t.background):typeof t=="string"&&t.startsWith("#")?t:"#000000"},n=jo({style:"square",foregroundColor:"#000000",backgroundColor:"#ffffff",showLogo:!0,size:"medium",format:"png"});L(()=>f.iconColor,t=>{console.log("iconColor changed:",t),!eo.value?.qrColor&&!f.qrColor&&(n.foregroundColor=to())},{immediate:!0,deep:!0}),L(eo,t=>{t&&(console.log("activeCard changed:",t),t.qrColor?n.foregroundColor=t.qrColor:n.foregroundColor=to(),t.qrBgColor&&(n.backgroundColor=t.qrBgColor))},{immediate:!0});const co=[{value:"#FF69B4"},{value:"#FF6347"},{value:"#FFD700"},{value:"#ADFF2F"},{value:"#00BFFF"}],$=()=>{R.value=!0},J=async t=>{R.value=!1;try{if(console.log("Download QR started with format:",t),console.log("uploadedLogo:",g.value),console.log("showLogo:",n.showLogo),!x.value){console.log("Canvas not found");return}const o=document.createElement("canvas");if(!o.getContext("2d")){console.log("Download context not found");return}const s=1024;o.width=s,o.height=s;let a=n.foregroundColor||"#000000",u=n.backgroundColor||"#FFFFFF";a.startsWith("hsl")&&(a=O(a)),u.startsWith("hsl")&&(u=O(u)),await ao.toCanvas(o,G.value,{width:s,margin:2,color:{dark:a,light:t==="png"?"#FFFFFF00":u},errorCorrectionLevel:"M"}),await yo(o,t);const i=document.createElement("a");if(t==="pdf")try{const{default:d}=await ko(async()=>{const{default:M}=await import("./DFzjRZmv.js").then(z=>z.j);return{default:M}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),c=new d({orientation:"portrait",unit:"mm",format:"a4"}),k=c.internal.pageSize.getWidth(),F=c.internal.pageSize.getHeight(),p=120,y=(k-p)/2,Q=(F-p)/2,A=o.toDataURL("image/png",1);c.addImage(A,"PNG",y,Q,p,p,void 0,"FAST"),c.save(`qr-code-${Date.now()}.pdf`)}catch(d){console.error("Failed to load jsPDF, falling back to PNG:",d),i.download=`qr-code-${Date.now()}.png`,i.href=o.toDataURL("image/png"),i.click()}else if(t==="jpg"){const d=document.createElement("canvas");d.width=s,d.height=s;const c=d.getContext("2d");c&&(c.fillStyle="#FFFFFF",c.fillRect(0,0,s,s),c.drawImage(o,0,0)),i.download=`qr-code-${Date.now()}.jpg`,i.href=d.toDataURL("image/jpeg",.95),i.click()}else i.download=`qr-code-${Date.now()}.png`,i.href=o.toDataURL("image/png"),i.click();I.value="کیوآر کد دانلود شد!",b.value=!0,setTimeout(()=>b.value=!1,3e3),console.log("Download completed using preview canvas")}catch(o){console.error("Download failed:",o)}},ro=async()=>{try{if(console.log("Share QR started"),!x.value){console.log("Canvas not found for sharing");return}const o=x.value.toDataURL("image/png");if(navigator.share&&navigator.canShare){const s=await(await fetch(o)).blob(),a=new File([s],"qr-code.png",{type:"image/png"});if(navigator.canShare({files:[a]})){await navigator.share({title:"کیوآر کد من",text:"کیوآر کد شخصی من در Linku.im",files:[a]}),console.log("QR Code shared successfully");return}}if(navigator.clipboard&&navigator.clipboard.write)try{const s=await(await fetch(o)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":s})]),I.value="کیوآر کد کپی شد!",b.value=!0,setTimeout(()=>b.value=!1,3e3),console.log("QR Code copied to clipboard")}catch{console.log("Clipboard failed, falling back to download"),$()}else console.log("Share API not supported, falling back to download"),$()}catch(t){console.error("Share failed:",t),$()}},lo=async()=>{S.value=!0;try{const t=f.selectedCardId||f.newCardId||f.defaultCard?.id||f.cards?.[0]?.id;if(!t){console.error("No active card found"),I.value="کارت فعالی یافت نشد!",b.value=!0,setTimeout(()=>b.value=!1,3e3);return}const o=new FormData;if(o.append("qrColor",n.foregroundColor),o.append("qrBgColor",n.backgroundColor),g.value&&g.value.startsWith("data:")){const a=await(await fetch(g.value)).blob();o.append("qrLogo",a,"qr-logo.png")}console.log("Saving QR settings for card:",t);const r=await uo.post(`v1/cards/${t}/update`,o,{headers:{"X-HTTP-Method-Override":"PUT"}});if(console.log("API Response:",r.data),r.data.success){f.qrColor=n.foregroundColor,f.qrBgColor=n.backgroundColor;const s=f.cards?.find(a=>String(a.id)===String(t));s&&(s.qrColor=n.foregroundColor,s.qrBgColor=n.backgroundColor),I.value="تنظیمات کیوآر کد ذخیره شد!",b.value=!0,setTimeout(()=>{b.value=!1,oo.back()},1500)}else throw new Error(r.data.message||"خطا در ذخیره")}catch(t){console.error("خطا در ذخیره تنظیمات:",t),I.value="خطا در ذخیره تنظیمات!",b.value=!0,setTimeout(()=>b.value=!1,3e3)}finally{S.value=!1}},fo=()=>{w.value.isActive&&mo()},vo=t=>{const r=t.target.files?.[0];r&&(console.log("File selected:",r.name,r.type),W.value=r,N.value=!0,console.log("Cropper modal opened"))},po=(t,o)=>{console.log("Cropped image received:",t),g.value=t,n.showLogo=!0,N.value=!1},bo=()=>{console.log("Cropper cancelled"),N.value=!1,W.value=null;const t=document.getElementById("logoUpload");t&&(t.value="")},mo=()=>{const t=document.getElementById("logoUpload");t&&t.click()},xo=()=>{g.value=null,n.showLogo=!1;const t=document.getElementById("logoUpload");t&&(t.value="")},so=()=>{n.foregroundColor="#000000",n.backgroundColor="#ffffff",n.showLogo=!1,n.style="square",g.value=null,go.value="#000000"},wo=()=>{q.value=!0},O=t=>{const o=t.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(!o)return"#000000";const r=parseInt(o[1])/360,s=parseInt(o[2])/100,a=parseInt(o[3])/100,u=(F,p,y)=>{let Q,A,M;if(p===0)Q=A=M=y;else{const z=(B,K,C)=>(C<0&&(C+=1),C>1&&(C-=1),C<.16666666666666666?B+(K-B)*6*C:C<.5?K:C<.6666666666666666?B+(K-B)*(.6666666666666666-C)*6:B),H=y<.5?y*(1+p):y+p-y*p,X=2*y-H;Q=z(X,H,F+1/3),A=z(X,H,F),M=z(X,H,F-1/3)}return[Math.round(Q*255),Math.round(A*255),Math.round(M*255)]},[i,d,c]=u(r,s,a),k=F=>{const p=F.toString(16);return p.length===1?"0"+p:p};return`#${k(i)}${k(d)}${k(c)}`},T=async()=>{if(await P(),!x.value){console.log("Canvas not found");return}try{let t=n.foregroundColor||"#000000",o=n.backgroundColor||"#FFFFFF";t.startsWith("hsl")&&(t=O(t)),o.startsWith("hsl")&&(o=O(o)),console.log("Converting colors:",{original:n.foregroundColor,converted:t});const r=x.value,s=r.getContext("2d");if(!s)return;if(s.clearRect(0,0,r.width,r.height),await ao.toCanvas(x.value,G.value,{width:250,margin:2,color:{dark:t,light:o},errorCorrectionLevel:"M"}),await Co(),U.value){const a=U.value.getContext("2d");a&&(a.clearRect(0,0,U.value.width,U.value.height),a.drawImage(x.value,0,0))}console.log("QR code generated successfully")}catch(t){console.error("QR Code generation failed:",t);const r=x.value.getContext("2d");r&&(r.fillStyle=n.backgroundColor||"#FFFFFF",r.fillRect(0,0,250,250),r.fillStyle=n.foregroundColor||"#000000",r.font="12px Arial",r.textAlign="center",r.fillText("QR Code",125,125))}},Co=async t=>new Promise((o,r)=>{const s=x.value;if(!s){o();return}const a=s.getContext("2d");if(!a){o();return}const u=new Image;u.onload=()=>{try{const d=s.width*.25,c=(s.width-d)/2,k=(s.height-d)/2;a.save(),a.fillStyle="#ffffff",a.beginPath(),a.arc(s.width/2,s.height/2,d/2+4,0,2*Math.PI),a.fill(),a.beginPath(),a.arc(s.width/2,s.height/2,d/2,0,2*Math.PI),a.clip(),a.drawImage(u,c,k,d,d),a.restore(),console.log("Logo added to QR code"),o()}catch(d){console.error("Error adding logo:",d),o()}},u.onerror=()=>{console.error("Failed to load logo image"),o()};let i="/logo.svg";console.log("=== Logo Selection Debug ==="),console.log("uploadedLogo.value:",g.value),console.log("subscriptionStatus.value.isActive:",w.value.isActive),console.log("userStore.user:",m.user),console.log("userStore.user?.avatar:",m.user?.avatar),g.value?(i=g.value,console.log("Using uploaded logo")):w.value.isActive&&m.user?.avatar?(i=m.user.avatar,console.log("Using user avatar:",i)):console.log("Using default logo"),console.log("Final logoSrc:",i),console.log("========================="),u.src=i}),yo=async(t,o="png")=>new Promise(r=>{const s=t.getContext("2d");if(!s){r();return}const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{try{console.log("Image loaded successfully"),console.log("Image dimensions:",a.width,"x",a.height),console.log("Canvas dimensions:",t.width,"x",t.height);const i=t.width*.25,d=(t.width-i)/2,c=(t.height-i)/2;console.log("Logo placement:",{x:d,y:c,logoSize:i}),s.save(),s.fillStyle="#ffffff",s.beginPath(),s.arc(t.width/2,t.height/2,i/2+8,0,2*Math.PI),s.fill(),s.beginPath(),s.arc(t.width/2,t.height/2,i/2,0,2*Math.PI),s.clip(),s.drawImage(a,d,c,i,i),s.restore(),console.log("Logo drawn successfully to download canvas"),r()}catch(i){console.error("Error adding logo to download canvas:",i),r()}},a.onerror=i=>{console.error("Failed to load logo image for download:",i),r()};let u="/logo.svg";console.log("=== Download Logo Selection Debug ==="),console.log("uploadedLogo.value:",g.value),console.log("subscriptionStatus.value.isActive:",w.value.isActive),console.log("userStore.user?.avatar:",m.user?.avatar),g.value?(u=g.value,console.log("Using uploaded logo for download")):w.value.isActive&&m.user?.avatar?(u=m.user.avatar,console.log("Using user avatar for download:",u)):console.log("Using default logo for download"),console.log("Final download logoSrc:",u),console.log("===================================="),console.log("Setting image source:",u.substring(0,50)+"..."),a.src=u});return L([()=>n.foregroundColor,()=>n.backgroundColor,()=>G.value],()=>{P(()=>{T()})}),So(()=>{P(()=>{T()})}),L(()=>n.foregroundColor,()=>{P(()=>{T()})}),L(()=>n.backgroundColor,()=>{P(()=>{T()})}),L(()=>g.value,()=>{P(()=>{T()})}),(t,o)=>(h(),j("div",Mo,[e("div",zo,[e("div",Bo,[e("button",{onClick:o[0]||(o[0]=r=>t.$router.back()),class:"flex items-center justify-center w-10 h-10 rounded-lg text-foreground hover:bg-accent transition-colors"},[...o[12]||(o[12]=[e("i",{class:"ti ti-arrow-right text-xl"},null,-1)])]),o[14]||(o[14]=l()),o[15]||(o[15]=e("h1",{class:"flex-1 text-lg font-semibold text-foreground"},"سفارشی‌سازی کیوآر کد",-1)),o[16]||(o[16]=l()),e("button",{onClick:ro,class:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center hover:bg-primary/30 transition-colors"},[...o[13]||(o[13]=[e("i",{class:"ti ti-share-2 text-primary text-lg"},null,-1)])])])]),o[71]||(o[71]=l()),e("div",Eo,[e("div",No,[e("div",Wo,[e("div",Oo,[o[24]||(o[24]=e("h3",{class:"text-lg font-semibold text-foreground mb-4 text-center"},"پیش‌نمایش کیوآر کد",-1)),o[25]||(o[25]=l()),e("div",Ho,[e("div",{style:E([{width:"250px",height:"250px"},{backgroundColor:n.backgroundColor}]),class:"rounded-xl flex items-center justify-center border border-border shadow-sm overflow-hidden"},[e("canvas",{ref_key:"qrCanvasDesktop",ref:U,class:"w-full h-full",width:"250",height:"250"},null,512)],4)]),o[26]||(o[26]=l()),e("div",Vo,[e("button",{onClick:lo,disabled:S.value,class:"w-full bg-primary text-primary-foreground py-3.5 rounded-xl font-medium text-base hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[...o[17]||(o[17]=[e("i",{class:"ti ti-device-floppy text-lg"},null,-1),l(),e("span",null,"ذخیره تنظیمات",-1)])],8,Go),o[21]||(o[21]=l()),e("button",{onClick:$,disabled:S.value,class:"w-full bg-accent text-accent-foreground py-3.5 rounded-xl font-medium text-base hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[...o[18]||(o[18]=[e("i",{class:"ti ti-download text-lg"},null,-1),l(),e("span",null,"دانلود کیوآر کد",-1)])],8,Jo),o[22]||(o[22]=l()),e("button",{onClick:ro,class:"w-full bg-accent text-accent-foreground py-3.5 rounded-xl font-medium text-base hover:bg-accent/90 transition-colors flex items-center justify-center gap-2"},[...o[19]||(o[19]=[e("i",{class:"ti ti-share-2 text-lg"},null,-1),l(),e("span",null,"اشتراک‌گذاری",-1)])]),o[23]||(o[23]=l()),e("button",{onClick:so,class:"w-full bg-secondary text-secondary-foreground py-3.5 rounded-xl font-medium text-base hover:bg-secondary/80 transition-colors flex items-center justify-center gap-2"},[...o[20]||(o[20]=[e("i",{class:"ti ti-refresh text-lg"},null,-1),l(),e("span",null,"بازنشانی",-1)])])])])]),o[45]||(o[45]=l()),e("div",Xo,[e("div",Ko,[e("div",Yo,[e("div",{style:E([{width:"250px",height:"250px"},{backgroundColor:n.backgroundColor}]),class:"rounded-xl flex items-center justify-center border border-border shadow-sm overflow-hidden"},[e("canvas",{ref_key:"qrCanvas",ref:x,class:"w-full h-full",width:"250",height:"250"},null,512)],4)])]),o[43]||(o[43]=l()),e("div",Zo,[o[29]||(o[29]=e("h3",{class:"text-base font-semibold text-foreground mb-4 flex items-center gap-2"},[e("i",{class:"ti ti-palette text-primary"}),l(),e("span",null,"انتخاب رنگ کیوآر کد")],-1)),o[30]||(o[30]=l()),e("div",_o,[e("button",{onClick:wo,class:"w-8 h-8 rounded-xl border-2 border-border flex items-center justify-center hover:opacity-80 transition-all shadow-sm",style:E({backgroundColor:n.foregroundColor})},[...o[27]||(o[27]=[e("i",{class:"ti ti-color-picker text-white text-lg"},null,-1)])],4),o[28]||(o[28]=l()),(h(),j(Ro,null,Lo(co,r=>e("button",{key:r.value,onClick:s=>n.foregroundColor=r.value,class:Z(["w-8 h-8 rounded-xl border-2 transition-all shadow-sm",n.foregroundColor===r.value?"border-foreground  ring-2 ring-foreground ring-offset-2":"border-border"]),style:E({backgroundColor:r.value})},null,14,oe)),64))])]),o[44]||(o[44]=l()),e("div",ee,[o[39]||(o[39]=e("h3",{class:"text-base font-semibold text-foreground mb-4 flex items-center gap-2"},[e("i",{class:"ti ti-photo text-primary"}),l(),e("span",null,"لوگو کیوآر کد")],-1)),o[40]||(o[40]=l()),e("button",{onClick:fo,type:"button",disabled:!w.value.isActive,class:Z(["w-full p-4 rounded-xl font-medium text-sm transition-colors relative",w.value.isActive?"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center justify-center gap-2":"bg-muted text-muted-foreground cursor-not-allowed flex items-center justify-between"])},[e("div",re,[e("i",{class:Z(w.value.isActive?"ti ti-upload":"ti ti-lock")},null,2),o[31]||(o[31]=l()),o[32]||(o[32]=e("span",{class:"text-sm"},"آپلود لوگو",-1))]),o[34]||(o[34]=l()),w.value.isActive?D("",!0):(h(),j("div",{key:0,class:"cursor-pointer",onClick:o[1]||(o[1]=V(r=>Uo(oo).push("/premium-upgrade"),["stop"]))},[...o[33]||(o[33]=[e("div",{class:"bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs px-3 py-1 rounded-full font-bold hover:opacity-90 transition-opacity"},`\r
                  ارتقا\r
                `,-1)])]))],10,te),o[41]||(o[41]=l()),g.value?(h(),j("div",le,[e("div",se,[e("div",ne,[e("img",{src:g.value,alt:"Preview",class:"w-10 h-10 rounded object-cover"},null,8,ae),o[35]||(o[35]=l()),o[36]||(o[36]=e("span",{class:"text-sm text-foreground"},"لوگو انتخاب شده",-1))]),o[38]||(o[38]=l()),e("button",{onClick:V(xo,["stop"]),class:"w-8 h-8 hover:bg-destructive/10 text-destructive rounded flex items-center justify-center transition-colors"},[...o[37]||(o[37]=[e("i",{class:"ti ti-x"},null,-1)])])])])):D("",!0),o[42]||(o[42]=l()),e("input",{id:"logoUpload",type:"file",class:"hidden",accept:"image/*,.svg",onChange:vo},null,32)])])])]),o[72]||(o[72]=l()),e("div",ie,[e("div",de,[e("div",ue,[e("button",{onClick:lo,disabled:S.value,class:"flex-1 bg-primary text-primary-foreground py-3 rounded-xl font-medium text-sm hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[...o[46]||(o[46]=[e("i",{class:"ti ti-device-floppy text-base"},null,-1),l(),e("span",null,"ذخیره",-1)])],8,ge),o[49]||(o[49]=l()),e("button",{onClick:$,disabled:S.value,class:"flex-1 bg-accent text-accent-foreground py-3 rounded-xl font-medium text-sm hover:bg-accent/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[...o[47]||(o[47]=[e("i",{class:"ti ti-download text-base"},null,-1),l(),e("span",null,"دانلود",-1)])],8,ce),o[50]||(o[50]=l()),e("button",{onClick:so,class:"w-12 bg-secondary text-secondary-foreground py-3 rounded-xl font-medium text-sm hover:bg-secondary/80 transition-colors flex items-center justify-center"},[...o[48]||(o[48]=[e("i",{class:"ti ti-refresh text-base"},null,-1)])])])])]),o[73]||(o[73]=l()),R.value?(h(),j("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-end lg:items-center justify-center",onClick:o[7]||(o[7]=V(r=>R.value=!1,["self"]))},[e("div",fe,[e("div",ve,[o[52]||(o[52]=e("h2",{class:"text-xl font-bold text-foreground"},"انتخاب فرمت دانلود",-1)),o[53]||(o[53]=l()),e("button",{onClick:o[2]||(o[2]=r=>R.value=!1),class:"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground"},[...o[51]||(o[51]=[e("i",{class:"ti ti-x text-xl"},null,-1)])])]),o[59]||(o[59]=l()),e("div",pe,[e("button",{onClick:o[3]||(o[3]=r=>J("png")),class:"w-full p-4 rounded-xl bg-primary/10 text-foreground hover:bg-primary/20 border border-primary/20 hover:border-primary/30 transition-all flex items-center justify-between group"},[...o[54]||(o[54]=[_('<div class="flex items-center gap-3" data-v-49c80b66><div class="w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center" data-v-49c80b66><i class="ti ti-photo text-primary text-2xl" data-v-49c80b66></i></div> <div class="text-right" data-v-49c80b66><p class="font-semibold text-foreground" data-v-49c80b66>تصویر PNG</p> <p class="text-xs text-muted-foreground" data-v-49c80b66>بدون پس‌زمینه و شفاف</p></div></div> <i class="ti ti-chevron-left text-lg text-muted-foreground group-hover:text-foreground transition-colors" data-v-49c80b66></i>',3)])]),o[57]||(o[57]=l()),e("button",{onClick:o[4]||(o[4]=r=>J("jpg")),class:"w-full p-4 rounded-xl bg-accent hover:bg-accent/80 border border-border transition-all flex items-center justify-between group"},[...o[55]||(o[55]=[_('<div class="flex items-center gap-3" data-v-49c80b66><div class="w-12 h-12 rounded-lg bg-muted flex items-center justify-center" data-v-49c80b66><i class="ti ti-photo text-foreground text-2xl" data-v-49c80b66></i></div> <div class="text-right" data-v-49c80b66><p class="font-semibold text-foreground" data-v-49c80b66>تصویر JPG</p> <p class="text-xs text-muted-foreground" data-v-49c80b66>با پس‌زمینه سفید</p></div></div> <i class="ti ti-chevron-left text-lg text-muted-foreground group-hover:text-foreground transition-colors" data-v-49c80b66></i>',3)])]),o[58]||(o[58]=l()),e("button",{onClick:o[5]||(o[5]=r=>J("pdf")),class:"w-full p-4 rounded-xl bg-accent hover:bg-accent/80 border border-border transition-all flex items-center justify-between group"},[...o[56]||(o[56]=[_('<div class="flex items-center gap-3" data-v-49c80b66><div class="w-12 h-12 rounded-lg bg-muted flex items-center justify-center" data-v-49c80b66><i class="ti ti-file-type-pdf text-red-600 text-2xl" data-v-49c80b66></i></div> <div class="text-right" data-v-49c80b66><p class="font-semibold text-foreground" data-v-49c80b66>فایل PDF</p> <p class="text-xs text-muted-foreground" data-v-49c80b66>برای چاپ حرفه‌ای</p></div></div> <i class="ti ti-chevron-left text-lg text-muted-foreground group-hover:text-foreground transition-colors" data-v-49c80b66></i>',3)])])]),o[60]||(o[60]=l()),e("button",{onClick:o[6]||(o[6]=r=>R.value=!1),class:"w-full mt-4 py-3 rounded-xl bg-muted text-foreground font-medium hover:bg-muted/80 transition-colors"},`\r
          انصراف\r
        `)])])):D("",!0),o[74]||(o[74]=l()),q.value?(h(),j("div",{key:1,class:"fixed inset-0 bg-black/50 z-50 flex items-end lg:items-center justify-center",onClick:o[11]||(o[11]=V(r=>q.value=!1,["self"]))},[e("div",be,[e("div",me,[o[62]||(o[62]=e("h2",{class:"text-xl font-bold text-foreground"},"انتخاب رنگ دلخواه",-1)),o[63]||(o[63]=l()),e("button",{onClick:o[8]||(o[8]=r=>q.value=!1),class:"p-2 hover:bg-muted rounded-lg transition-colors text-muted-foreground hover:text-foreground"},[...o[61]||(o[61]=[e("i",{class:"ti ti-x text-xl"},null,-1)])])]),o[68]||(o[68]=l()),e("div",xe,[e("div",we,[e("div",{class:"w-14 h-14 rounded-lg border-2 border-border shadow-sm",style:E({backgroundColor:n.foregroundColor})},null,4),o[66]||(o[66]=l()),e("div",Ce,[o[64]||(o[64]=e("p",{class:"text-xs text-muted-foreground mb-1"},"رنگ انتخاب شده",-1)),o[65]||(o[65]=l()),e("p",ye,no(n.foregroundColor),1)])]),o[67]||(o[67]=l()),Po(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>n.foregroundColor=r),type:"color",class:"w-full h-32 rounded-xl cursor-pointer border-2 border-border"},null,512),[[Do,n.foregroundColor]])]),o[69]||(o[69]=l()),e("button",{onClick:o[10]||(o[10]=r=>q.value=!1),class:"mt-6 w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3.5 rounded-xl font-medium transition-all"},`\r
          تأیید\r
        `)])])):D("",!0),o[75]||(o[75]=l()),b.value?(h(),j("div",he,[o[70]||(o[70]=e("i",{class:"ti ti-check text-lg"},null,-1)),l(" "+no(I.value),1)])):D("",!0),o[76]||(o[76]=l()),W.value?(h(),Io($o,{key:3,show:N.value,"image-file":W.value,"field-name":"logo",onCropped:po,onClose:bo},null,8,["show","image-file"])):D("",!0)]))}}),io=Ao(ke,[["__scopeId","data-v-49c80b66"]]),qe=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),Ue=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"}));export{qe as C,Ue as i};
