import{k as D,r as x,c as j,o as V,b as o,f as t,e as s,P as m,Q as f,h as g,g as M,i as d,O as c,t as l,d as w}from"#entry";const S={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},B={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-4"},L={class:"flex items-center gap-3"},F={class:"p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},N={class:"flex gap-2 overflow-x-auto"},A=["onClick"],I={key:0,class:"flex items-center justify-center py-12"},T={key:1,class:"p-4 space-y-3"},_={class:"flex items-start justify-between gap-3 mb-3"},$={class:"flex-1"},O={class:"font-semibold text-gray-900 dark:text-white mb-1"},z={class:"text-sm text-gray-600 dark:text-gray-400"},E={class:"grid grid-cols-3 gap-3 mb-3"},H={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-2 text-center"},P={class:"text-lg font-bold text-gray-900 dark:text-white"},Q={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-2 text-center"},R={class:"text-lg font-bold text-green-600 dark:text-green-400"},q={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-2 text-center"},G={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},J={key:0,class:"mb-3"},K={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-2 text-sm text-gray-700 dark:text-gray-300 break-all"},U={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-3 border-t border-gray-100 dark:border-gray-700"},W={class:"flex items-center gap-2"},X={key:0,class:"flex items-center gap-1"},Y={key:2,class:"flex flex-col items-center justify-center py-16 px-4"},te=D({__name:"history",setup(Z){const y=x(!0),u=x([]),n=x("all"),h=[{label:"همه",value:"all"},{label:"برای همه کاربران",value:"all-users"},{label:"پرمیوم",value:"premium"},{label:"رایگان",value:"free"},{label:"خاص",value:"specific"}],b=j(()=>n.value==="all"?u.value:u.value.filter(a=>n.value==="all-users"?a.type==="all":a.type===n.value));function C(a){return{all:"همه کاربران",premium:"پرمیوم",free:"رایگان",specific:"کاربران خاص"}[a]||a}function p(a){const e=new Date(a),k=new Date().getTime()-e.getTime(),i=Math.floor(k/(1e3*60*60));if(i<1)return"همین الان";if(i<24)return`${i} ساعت پیش`;const v=Math.floor(i/24);return v<7?`${v} روز پیش`:new Intl.DateTimeFormat("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}return V(async()=>{try{u.value=[{id:1,title:"به‌روزرسانی جدید",message:"نسخه جدید اپلیکیشن منتشر شد",type:"all",sentCount:1250,deliveredCount:1180,clickedCount:450,actionLink:"/dashboard/updates",createdAt:new Date(Date.now()-7200*1e3).toISOString()},{id:2,title:"پیشنهاد ویژه پرمیوم",message:"50٪ تخفیف برای ارتقا به پرمیوم",type:"free",sentCount:850,deliveredCount:820,clickedCount:180,actionLink:"/dashboard/upgrade",createdAt:new Date(Date.now()-300*60*1e3).toISOString()},{id:3,title:"قابلیت جدید",message:"قابلیت کارت NFC اضافه شد",type:"premium",sentCount:320,deliveredCount:310,clickedCount:95,createdAt:new Date(Date.now()-1440*60*1e3).toISOString()}]}catch(a){console.error("Error fetching notifications:",a)}finally{y.value=!1}}),(a,e)=>(d(),o("div",S,[t("div",B,[t("div",L,[t("button",{onClick:e[0]||(e[0]=r=>a.$router.back()),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition"},[...e[1]||(e[1]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e[2]||(e[2]=s()),e[3]||(e[3]=t("div",null,[t("h1",{class:"text-xl font-bold text-gray-900 dark:text-white"},"تاریخچه اعلان‌ها"),s(),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},`\r
            مشاهده تمام اعلان‌های ارسال شده\r
          `)],-1))])]),e[24]||(e[24]=s()),t("div",F,[t("div",N,[(d(),o(m,null,f(h,r=>t("button",{key:r.value,onClick:k=>n.value=r.value,class:c(["px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition",g(n)===r.value?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},l(r.label),11,A)),64))])]),e[25]||(e[25]=s()),g(y)?(d(),o("div",I,[...e[4]||(e[4]=[t("div",{class:"flex flex-col items-center gap-3"},[t("div",{class:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s(),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"در حال بارگذاری...")],-1)])])):g(b).length>0?(d(),o("div",T,[(d(!0),o(m,null,f(g(b),r=>(d(),o("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-md transition"},[t("div",_,[t("div",$,[t("h3",O,l(r.title),1),e[5]||(e[5]=s()),t("p",z,l(r.message),1)]),e[6]||(e[6]=s()),t("span",{class:c(["px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap",r.type==="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":r.type==="premium"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":r.type==="free"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"])},l(C(r.type)),3)]),e[20]||(e[20]=s()),t("div",E,[t("div",H,[t("div",P,l(r.sentCount||0),1),e[7]||(e[7]=s()),e[8]||(e[8]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ارسال شده",-1))]),e[13]||(e[13]=s()),t("div",Q,[t("div",R,l(r.deliveredCount||0),1),e[9]||(e[9]=s()),e[10]||(e[10]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"تحویل شده",-1))]),e[14]||(e[14]=s()),t("div",q,[t("div",G,l(r.clickedCount||0),1),e[11]||(e[11]=s()),e[12]||(e[12]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"کلیک شده",-1))])]),e[21]||(e[21]=s()),r.actionLink?(d(),o("div",J,[e[15]||(e[15]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"لینک:",-1)),e[16]||(e[16]=s()),t("div",K,l(r.actionLink),1)])):w("",!0),e[22]||(e[22]=s()),t("div",U,[t("div",W,[e[17]||(e[17]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s(" "+l(p(r.createdAt)),1)]),e[19]||(e[19]=s()),r.scheduledFor?(d(),o("div",X,[e[18]||(e[18]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),s(`\r
            زمان‌بندی: `+l(p(r.scheduledFor)),1)])):w("",!0)])]))),128))])):(d(),o("div",Y,[...e[23]||(e[23]=[M(`<div class="w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4"><svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">\r
        هیچ اعلانی یافت نشد\r
      </h3> <p class="text-sm text-gray-500 dark:text-gray-400 text-center">\r
        تاکنون هیچ اعلانی ارسال نشده است\r
      </p>`,5)])]))]))}});export{te as default};
