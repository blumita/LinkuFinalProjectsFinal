import{y as M,r as D,j as R,G as C,k as i,F as P,p as t,q as d,l as f,s as j,Q as x,R as y,u as n,M as k,v,E as L,x as l}from"./Ct89Yiyn.js";import{M as S}from"./C47fqy_T.js";import{_ as T}from"./DlAUqK2U.js";function U(){const g=o=>new Intl.NumberFormat("fa-IR").format(o)+" تومان",m=o=>({paid:"پرداخت شده",pending:"در انتظار پرداخت",overdue:"سررسید گذشته",cancelled:"لغو شده",refunded:"بازپرداخت شده"})[o]||o;return{formatPrice:g,getStatusText:m,downloadInvoiceImage:async o=>{const a=`
      فاکتور شماره: ${o.invoiceNumber}
      مبلغ: ${g(o.amount)}
      وضعیت: ${m(o.status)}
      تاریخ صدور: ${o.issueDate}
    `,p=new Blob([a],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(p),r=document.createElement("a");r.href=s,r.download=`invoice-${o.invoiceNumber}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}}}const V={class:"min-h-screen bg-background"},$={class:"pt-24 px-6 py-4"},B={key:0,class:"space-y-6 animate-pulse"},E={class:"bg-card border border-border/20 p-6 rounded-2xl"},F={class:"space-y-3"},O={class:"bg-card border border-border/20 p-6 rounded-2xl"},q={class:"space-y-4"},z={class:"bg-card border border-border/20 p-6 rounded-2xl"},G={class:"space-y-3"},H={key:1,class:"space-y-6"},Q={class:"bg-card border border-border/20 p-6 rounded-2xl"},A={class:"flex items-center justify-between mb-4"},J={class:"text-xl font-bold text-foreground mb-1"},K={class:"text-right"},W={class:"text-2xl font-bold text-foreground"},X={class:"grid grid-cols-2 gap-4 pt-4 border-t border-border/20"},Y={class:"font-medium"},Z={class:"font-medium"},h={class:"bg-card border border-border/20 p-6 rounded-2xl"},_={class:"space-y-3"},ee={class:"flex items-center justify-between p-4 bg-muted/30 rounded-xl"},de={class:"flex-1"},te={class:"font-medium text-foreground"},se={class:"text-right"},oe={class:"font-bold text-foreground"},ne={class:"mt-4 pt-4 border-t border-border/20"},re={class:"flex justify-between text-lg font-bold"},ie={class:"bg-card border border-border/20 p-6 rounded-2xl"},le={class:"space-y-3"},ae={class:"flex justify-between"},ue={class:"font-medium"},be={class:"flex justify-between"},ve={key:0,class:"flex justify-between"},me={class:"font-medium"},pe={class:"space-y-3"},ge=M({__name:"InvoiceDetailPage",setup(g){const m=C();L();const{downloadInvoiceImage:w,formatPrice:o,getStatusText:a}=U(),p=D(!1),s=D(null),r=[{id:"1",invoiceNumber:"2024001",description:"اشتراک پریمیوم - ماهانه",amount:15e4,issueDate:"1403/06/15",dueDate:"1403/06/25",status:"paid",paymentMethod:"کارت بانکی",paymentDate:"1403/06/16"},{id:"2",invoiceNumber:"2024002",description:"خرید محصول فیزیکی - کارت هوشمند",amount:25e4,issueDate:"1403/06/10",dueDate:"1403/06/20",status:"pending",paymentMethod:"کیف پول"},{id:"3",invoiceNumber:"2024003",description:"ارتقا اشتراک - سالانه",amount:12e5,issueDate:"1403/05/20",dueDate:"1403/05/30",status:"overdue",paymentMethod:"کارت بانکی"},{id:"4",invoiceNumber:"2024004",description:"تمدید اشتراک - 3 ماهه",amount:45e4,issueDate:"1403/05/15",dueDate:"1403/05/25",status:"paid",paymentMethod:"انتقال بانکی",paymentDate:"1403/05/16"}],I=async()=>{if(s.value)try{await w(s.value)}catch{alert("خطا در دانلود فاکتور")}},c=u=>({paid:"bg-green-500/10 text-green-600",pending:"bg-yellow-500/10 text-yellow-600",overdue:"bg-red-500/10 text-red-600",cancelled:"bg-gray-500/10 text-gray-600"})[u]||"bg-muted text-muted-foreground",N=()=>{alert("هدایت به درگاه پرداخت...")};return R(()=>{setTimeout(()=>{const u=m.params.id;s.value=r.find(e=>e.id===u)||r[0],p.value=!0},1200)}),(u,e)=>(l(),i("div",V,[P(S,{title:"جزئیات فاکتور","home-route":"/dashboard","show-back":!0,"show-home":!0}),e[50]||(e[50]=t()),d("div",$,[p.value?s.value?(l(),i("div",H,[d("div",Q,[d("div",A,[d("div",null,[d("h2",J,"فاکتور #"+n(s.value.invoiceNumber),1),e[16]||(e[16]=t()),d("span",{class:k(["text-sm px-3 py-1 rounded-full",c(s.value.status)])},n(v(a)(s.value.status)),3)]),e[19]||(e[19]=t()),d("div",K,[d("p",W,n(v(o)(s.value.amount)),1),e[17]||(e[17]=t()),e[18]||(e[18]=d("p",{class:"text-sm text-muted-foreground"},"مبلغ کل",-1))])]),e[25]||(e[25]=t()),d("div",X,[d("div",null,[e[20]||(e[20]=d("p",{class:"text-sm text-muted-foreground mb-1"},"تاریخ صدور",-1)),e[21]||(e[21]=t()),d("p",Y,n(s.value.issueDate),1)]),e[24]||(e[24]=t()),d("div",null,[e[22]||(e[22]=d("p",{class:"text-sm text-muted-foreground mb-1"},"تاریخ سررسید",-1)),e[23]||(e[23]=t()),d("p",Z,n(s.value.dueDate),1)])])]),e[47]||(e[47]=j(' <div class="bg-card border border-border/20 p-6 rounded-2xl" data-v-d28e7bd1><h3 class="text-lg font-semibold text-foreground mb-4" data-v-d28e7bd1>اطلاعات مشتری</h3> <div class="space-y-3" data-v-d28e7bd1><div class="flex justify-between" data-v-d28e7bd1><span class="text-muted-foreground" data-v-d28e7bd1>نام مشتری:</span> <span class="font-medium" data-v-d28e7bd1>کاربر لینکو</span></div> <div class="flex justify-between" data-v-d28e7bd1><span class="text-muted-foreground" data-v-d28e7bd1>شماره کاربری:</span> <span class="font-medium" data-v-d28e7bd1>USER-2024</span></div> <div class="flex justify-between" data-v-d28e7bd1><span class="text-muted-foreground" data-v-d28e7bd1>ایمیل:</span> <span class="font-medium" data-v-d28e7bd1>user@linku.im</span></div></div></div> ',3)),d("div",h,[e[31]||(e[31]=d("h3",{class:"text-lg font-semibold text-foreground mb-4"},"آیتم‌های فاکتور",-1)),e[32]||(e[32]=t()),d("div",_,[d("div",ee,[d("div",de,[d("h4",te,n(s.value.description),1),e[26]||(e[26]=t()),e[27]||(e[27]=d("p",{class:"text-sm text-muted-foreground mt-1"},"مقدار: 1 عدد",-1))]),e[28]||(e[28]=t()),d("div",se,[d("p",oe,n(v(o)(s.value.amount)),1)])])]),e[33]||(e[33]=t()),d("div",ne,[d("div",re,[e[29]||(e[29]=d("span",null,"مجموع کل:",-1)),e[30]||(e[30]=t()),d("span",null,n(v(o)(s.value.amount)),1)])])]),e[48]||(e[48]=t()),d("div",ie,[e[42]||(e[42]=d("h3",{class:"text-lg font-semibold text-foreground mb-4"},"اطلاعات پرداخت",-1)),e[43]||(e[43]=t()),d("div",le,[d("div",ae,[e[34]||(e[34]=d("span",{class:"text-muted-foreground"},"روش پرداخت:",-1)),e[35]||(e[35]=t()),d("span",ue,n(s.value.paymentMethod),1)]),e[40]||(e[40]=t()),d("div",be,[e[36]||(e[36]=d("span",{class:"text-muted-foreground"},"وضعیت پرداخت:",-1)),e[37]||(e[37]=t()),d("span",{class:k(c(s.value.status))},n(v(a)(s.value.status)),3)]),e[41]||(e[41]=t()),s.value.status==="paid"?(l(),i("div",ve,[e[38]||(e[38]=d("span",{class:"text-muted-foreground"},"تاریخ پرداخت:",-1)),e[39]||(e[39]=t()),d("span",me,n(s.value.paymentDate||s.value.issueDate),1)])):f("",!0)])]),e[49]||(e[49]=t()),d("div",pe,[d("button",{onClick:I,class:"w-full bg-muted text-muted-foreground py-3 px-4 rounded-xl font-medium hover:bg-muted/80 transition-colors flex items-center justify-center gap-2"},[...e[44]||(e[44]=[d("i",{class:"ti ti-download text-lg"},null,-1),t(`\r
            دانلود فاکتور (PDF)\r
          `,-1)])]),e[46]||(e[46]=t()),s.value.status==="pending"?(l(),i("button",{key:0,onClick:N,class:"w-full bg-green-500 text-white py-3 px-4 rounded-xl font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-2"},[...e[45]||(e[45]=[d("i",{class:"ti ti-credit-card text-lg"},null,-1),t(`\r
            پرداخت فاکتور\r
          `,-1)])])):f("",!0)])])):f("",!0):(l(),i("div",B,[e[11]||(e[11]=j('<div class="bg-card border border-border/20 p-6 rounded-2xl" data-v-d28e7bd1><div class="flex items-center justify-between mb-4" data-v-d28e7bd1><div data-v-d28e7bd1><div class="h-6 w-40 bg-muted rounded mb-2" data-v-d28e7bd1></div> <div class="h-5 w-20 bg-muted rounded-full" data-v-d28e7bd1></div></div> <div class="text-right" data-v-d28e7bd1><div class="h-8 w-32 bg-muted rounded mb-1" data-v-d28e7bd1></div> <div class="h-4 w-16 bg-muted-foreground/20 rounded" data-v-d28e7bd1></div></div></div> <div class="grid grid-cols-2 gap-4 pt-4 border-t border-border/20" data-v-d28e7bd1><div data-v-d28e7bd1><div class="h-4 w-16 bg-muted-foreground/20 rounded mb-1" data-v-d28e7bd1></div> <div class="h-5 w-24 bg-muted rounded" data-v-d28e7bd1></div></div> <div data-v-d28e7bd1><div class="h-4 w-20 bg-muted-foreground/20 rounded mb-1" data-v-d28e7bd1></div> <div class="h-5 w-24 bg-muted rounded" data-v-d28e7bd1></div></div></div></div> ',2)),d("div",E,[e[1]||(e[1]=d("div",{class:"h-6 w-28 bg-muted rounded mb-4"},null,-1)),e[2]||(e[2]=t()),d("div",F,[(l(),i(x,null,y(4,b=>d("div",{key:b,class:"flex justify-between"},[...e[0]||(e[0]=[d("div",{class:"h-4 w-20 bg-muted-foreground/20 rounded"},null,-1),t(),d("div",{class:"h-4 w-24 bg-muted rounded"},null,-1)])])),64))])]),e[12]||(e[12]=t()),d("div",O,[e[4]||(e[4]=d("div",{class:"h-6 w-24 bg-muted rounded mb-4"},null,-1)),e[5]||(e[5]=t()),d("div",q,[(l(),i(x,null,y(2,b=>d("div",{key:b,class:"flex justify-between items-center py-3 border-b border-border/20"},[...e[3]||(e[3]=[d("div",null,[d("div",{class:"h-5 w-32 bg-muted rounded mb-1"}),t(),d("div",{class:"h-4 w-20 bg-muted-foreground/20 rounded"})],-1),t(),d("div",{class:"h-5 w-24 bg-muted rounded"},null,-1)])])),64))]),e[6]||(e[6]=t()),e[7]||(e[7]=d("div",{class:"flex justify-between items-center pt-4 border-t border-border/20"},[d("div",{class:"h-6 w-16 bg-muted rounded"}),t(),d("div",{class:"h-6 w-28 bg-muted rounded"})],-1))]),e[13]||(e[13]=t()),d("div",z,[e[9]||(e[9]=d("div",{class:"h-6 w-32 bg-muted rounded mb-4"},null,-1)),e[10]||(e[10]=t()),d("div",G,[(l(),i(x,null,y(3,b=>d("div",{key:b,class:"flex justify-between"},[...e[8]||(e[8]=[d("div",{class:"h-4 w-24 bg-muted-foreground/20 rounded"},null,-1),t(),d("div",{class:"h-4 w-20 bg-muted rounded"},null,-1)])])),64))])]),e[14]||(e[14]=t()),e[15]||(e[15]=d("div",{class:"flex gap-3"},[d("div",{class:"flex-1 h-12 bg-muted rounded-xl"}),t(),d("div",{class:"flex-1 h-12 bg-muted rounded-xl"})],-1))]))])]))}}),we=T(ge,[["__scopeId","data-v-d28e7bd1"]]);export{we as default};
