import{_ as S}from"./CgleJCdt.js";import{n as M}from"#entry";import{u as D}from"./D-Ev5PMd.js";import{_ as R}from"./DlAUqK2U.js";import{r as B,d as b,j as I,H as V,I as z,x as i,q as e,p as s,v as L,M as o,k as a,l as c,u as d,Q as y,R as w}from"./Ct89Yiyn.js";import"./CU4qPF7-.js";import"./ngrFHoWO.js";const q={class:"min-h-screen bg-background"},E={class:"fixed top-0 left-0 right-0 z-40 bg-card border-b border-border"},F={class:"flex items-center h-14 px-3 lg:px-4"},H=["disabled"],O={class:"lg:hidden px-3 pb-2"},Q={class:"flex items-center gap-2 overflow-x-auto scrollbar-hide"},G={class:"pt-[90px] lg:pt-16 pb-20 px-2.5 lg:px-4 mt-4 lg:mt-0"},J={class:"lg:max-w-none lg:mx-0"},K={class:"hidden lg:flex lg:gap-6 lg:mt-6 lg:items-start"},P={class:"w-72 flex-shrink-0 space-y-3 sticky top-20"},U={class:"text-sm"},W={class:"text-sm"},X={class:"text-sm"},Y={class:"text-sm"},Z={class:"text-sm"},h={class:"text-sm"},_={class:"flex-1 space-y-4"},tt=["onClick"],et={class:"flex items-center gap-4"},st={class:"flex-1 min-w-0"},rt={class:"font-semibold text-foreground text-sm leading-tight mb-1"},lt={class:"text-xs text-muted-foreground leading-relaxed truncate"},nt={class:"text-xs text-muted-foreground flex-shrink-0"},ot={key:0,class:"w-2.5 h-2.5 bg-primary rounded-full flex-shrink-0"},it={key:2,class:"text-center py-20 px-4"},dt={class:"lg:hidden"},at={key:0,class:"space-y-2"},ut={key:1,class:"space-y-2"},gt=["onClick"],xt={class:"flex items-start gap-2.5"},pt={class:"flex-1 min-w-0"},bt={class:"flex items-start justify-between gap-2 mb-1"},mt={class:"font-semibold text-foreground text-sm leading-tight"},ft={class:"text-[10px] text-muted-foreground flex-shrink-0 mt-0.5"},vt={class:"text-xs text-muted-foreground leading-relaxed line-clamp-2"},ct={key:0,class:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-1"},yt={key:2,class:"text-center py-16 px-4"},wt={class:"text-sm text-muted-foreground"},kt={__name:"index",setup(Ct){const u=D(),l=B("all"),j=b(()=>u.loading);b(()=>u.notifications);const m=b(()=>{const n=u.notifications;return l.value==="all"?n:l.value==="unread"?n.filter(t=>!t.read):n.filter(t=>t.type===l.value)}),k=b(()=>u.notifications.length),f=b(()=>u.notifications.filter(n=>!n.read).length),v=n=>u.notifications.filter(t=>t.type===n).length,g=n=>{if(!n)return{icon:"ti ti-info-circle",color:"text-blue-500",bg:"bg-blue-500/10"};const t={renewal_reminder:{icon:"ti ti-crown",color:"text-yellow-500",bg:"bg-yellow-500/10"},subscription_expired:{icon:"ti ti-crown",color:"text-orange-500",bg:"bg-orange-500/10"},purchase_success:{icon:"ti ti-credit-card",color:"text-green-500",bg:"bg-green-500/10"},new_login:{icon:"ti ti-shield",color:"text-red-500",bg:"bg-red-500/10"},profile_created:{icon:"ti ti-user-plus",color:"text-purple-500",bg:"bg-purple-500/10"},login:{icon:"ti ti-login",color:"text-cyan-500",bg:"bg-cyan-500/10"},logout:{icon:"ti ti-logout",color:"text-slate-500",bg:"bg-slate-500/10"},welcome:{icon:"ti ti-hand-stop",color:"text-pink-500",bg:"bg-pink-500/10"},first_login:{icon:"ti ti-star",color:"text-amber-500",bg:"bg-amber-500/10"}};if(n.rawType&&t[n.rawType])return t[n.rawType];const x={subscription:{icon:"ti ti-crown",color:"text-yellow-500",bg:"bg-yellow-500/10"},payment:{icon:"ti ti-credit-card",color:"text-green-500",bg:"bg-green-500/10"},security:{icon:"ti ti-shield",color:"text-red-500",bg:"bg-red-500/10"},system:{icon:"ti ti-settings",color:"text-purple-500",bg:"bg-purple-500/10"},general:{icon:"ti ti-info-circle",color:"text-blue-500",bg:"bg-blue-500/10"}};return x[n.type]||x.general},T=n=>{const x=new Date-new Date(n),r=Math.floor(x/1e3),p=Math.floor(r/60),C=Math.floor(p/60),$=Math.floor(C/24);return $>7?new Date(n).toLocaleDateString("fa-IR"):$>0?`${$} روز پیش`:C>0?`${C} ساعت پیش`:p>0?`${p} دقیقه پیش`:"الان"},N=async n=>{n.read||await u.markAsRead(n.id)},A=async()=>{await u.markAllAsRead()};return I(()=>{u.fetchNotifications()}),(n,t)=>{const x=S;return i(),V(x,null,{default:z(()=>[e("div",q,[e("div",E,[e("div",F,[e("button",{onClick:t[0]||(t[0]=r=>("navigateTo"in n?n.navigateTo:L(M))("/dashboard")),class:"flex items-center justify-center w-9 h-9 rounded-lg text-foreground hover:bg-accent transition-colors"},[...t[13]||(t[13]=[e("i",{class:"ti ti-arrow-right text-lg"},null,-1)])]),t[15]||(t[15]=s()),t[16]||(t[16]=e("h1",{class:"flex-1 text-base font-semibold text-foreground text-center mr-10 lg:text-lg"},"اطلاعیه‌ها",-1)),t[17]||(t[17]=s()),e("button",{onClick:A,class:"flex items-center justify-center w-9 h-9 rounded-lg text-foreground hover:bg-accent transition-colors disabled:opacity-50",disabled:f.value===0},[...t[14]||(t[14]=[e("i",{class:"ti ti-checks text-lg"},null,-1)])],8,H)]),t[35]||(t[35]=s()),e("div",O,[e("div",Q,[e("button",{onClick:t[1]||(t[1]=r=>l.value="all"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[t[18]||(t[18]=e("i",{class:"ti ti-bell text-sm"},null,-1)),t[19]||(t[19]=s()),t[20]||(t[20]=e("span",null,"همه",-1)),t[21]||(t[21]=s()),k.value>0?(i(),a("span",{key:0,class:o(["px-1.5 py-0.5 rounded-full text-[10px]",l.value==="all"?"bg-white/20":"bg-primary/10 text-primary"])},d(k.value),3)):c("",!0)],2),t[30]||(t[30]=s()),e("button",{onClick:t[2]||(t[2]=r=>l.value="unread"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="unread"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[t[22]||(t[22]=e("i",{class:"ti ti-bell-ringing text-sm"},null,-1)),t[23]||(t[23]=s()),t[24]||(t[24]=e("span",null,"نخوانده",-1)),t[25]||(t[25]=s()),f.value>0?(i(),a("span",{key:0,class:o(["px-1.5 py-0.5 rounded-full text-[10px]",l.value==="unread"?"bg-white/20":"bg-red-500/10 text-red-500"])},d(f.value),3)):c("",!0)],2),t[31]||(t[31]=s()),e("button",{onClick:t[3]||(t[3]=r=>l.value="subscription"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="subscription"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[...t[26]||(t[26]=[e("i",{class:"ti ti-crown text-sm"},null,-1),s(),e("span",null,"اشتراک",-1)])],2),t[32]||(t[32]=s()),e("button",{onClick:t[4]||(t[4]=r=>l.value="payment"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="payment"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[...t[27]||(t[27]=[e("i",{class:"ti ti-credit-card text-sm"},null,-1),s(),e("span",null,"پرداخت",-1)])],2),t[33]||(t[33]=s()),e("button",{onClick:t[5]||(t[5]=r=>l.value="security"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="security"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[...t[28]||(t[28]=[e("i",{class:"ti ti-shield text-sm"},null,-1),s(),e("span",null,"امنیت",-1)])],2),t[34]||(t[34]=s()),e("button",{onClick:t[6]||(t[6]=r=>l.value="general"),class:o(["flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all",l.value==="general"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent"])},[...t[29]||(t[29]=[e("i",{class:"ti ti-info-circle text-sm"},null,-1),s(),e("span",null,"عمومی",-1)])],2)])])]),t[70]||(t[70]=s()),e("div",G,[e("div",J,[e("div",K,[e("div",P,[e("button",{type:"button",onClick:t[7]||(t[7]=r=>l.value="all"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="all"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[36]||(t[36]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-bell text-xl"}),s(),e("span",{class:"font-semibold"},"همه اطلاعیه‌ها")],-1)),t[37]||(t[37]=s()),e("span",U,d(k.value),1)],2),t[48]||(t[48]=s()),e("button",{type:"button",onClick:t[8]||(t[8]=r=>l.value="unread"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="unread"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[38]||(t[38]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-bell-ringing text-xl"}),s(),e("span",{class:"font-semibold"},"خوانده نشده")],-1)),t[39]||(t[39]=s()),e("span",W,d(f.value),1)],2),t[49]||(t[49]=s()),e("button",{type:"button",onClick:t[9]||(t[9]=r=>l.value="subscription"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="subscription"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[40]||(t[40]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-crown text-xl"}),s(),e("span",{class:"font-semibold"},"اشتراک")],-1)),t[41]||(t[41]=s()),e("span",X,d(v("subscription")),1)],2),t[50]||(t[50]=s()),e("button",{type:"button",onClick:t[10]||(t[10]=r=>l.value="payment"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="payment"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[42]||(t[42]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-credit-card text-xl"}),s(),e("span",{class:"font-semibold"},"پرداخت")],-1)),t[43]||(t[43]=s()),e("span",Y,d(v("payment")),1)],2),t[51]||(t[51]=s()),e("button",{type:"button",onClick:t[11]||(t[11]=r=>l.value="security"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="security"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[44]||(t[44]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-shield text-xl"}),s(),e("span",{class:"font-semibold"},"امنیت")],-1)),t[45]||(t[45]=s()),e("span",Z,d(v("security")),1)],2),t[52]||(t[52]=s()),e("button",{type:"button",onClick:t[12]||(t[12]=r=>l.value="general"),class:o(["w-full flex items-center justify-between p-4 rounded-xl transition-all text-right",l.value==="general"?"bg-primary text-primary-foreground":"bg-card border border-border hover:bg-accent"])},[t[46]||(t[46]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-info-circle text-xl"}),s(),e("span",{class:"font-semibold"},"عمومی")],-1)),t[47]||(t[47]=s()),e("span",h,d(v("general")),1)],2)]),t[59]||(t[59]=s()),e("div",_,[j.value?(i(),a(y,{key:0},w(6,r=>e("div",{key:r,class:"bg-card border border-border rounded-xl p-4 transition-all"},[...t[53]||(t[53]=[e("div",{class:"flex items-center gap-4 animate-pulse"},[e("div",{class:"w-12 h-12 rounded-xl bg-accent flex-shrink-0"}),s(),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 bg-accent rounded-md w-1/3"}),s(),e("div",{class:"h-3 bg-accent rounded-md w-full"})]),s(),e("div",{class:"h-3 bg-accent rounded-md w-20"}),s(),e("div",{class:"w-2.5 h-2.5 bg-accent rounded-full"})],-1)])])),64)):m.value.length>0?(i(!0),a(y,{key:1},w(m.value,r=>(i(),a("div",{key:r.id,onClick:p=>N(r),class:o(["bg-card border transition-all cursor-pointer hover:bg-accent hover:border-primary/30 relative rounded-xl p-4",r.read?"border-border":"border-primary/20"])},[e("div",et,[e("div",{class:o(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",g(r).bg])},[e("i",{class:o([g(r).icon,g(r).color,"text-xl"])},null,2)],2),t[55]||(t[55]=s()),e("div",st,[e("h3",rt,d(r.title),1),t[54]||(t[54]=s()),e("p",lt,d(r.description),1)]),t[56]||(t[56]=s()),e("span",nt,d(T(r.createdAt)),1),t[57]||(t[57]=s()),r.read?c("",!0):(i(),a("div",ot))])],10,tt))),128)):(i(),a("div",it,[...t[58]||(t[58]=[e("div",{class:"w-20 h-20 mx-auto mb-4 rounded-full bg-accent flex items-center justify-center"},[e("i",{class:"ti ti-bell-off text-4xl text-muted-foreground"})],-1),s(),e("h3",{class:"text-lg font-semibold text-foreground mb-2"},"اطلاعیه‌ای وجود ندارد",-1),s(),e("p",{class:"text-sm text-muted-foreground"},"در این دسته‌بندی اطلاعیه‌ای یافت نشد",-1)])]))])]),t[69]||(t[69]=s()),e("div",dt,[j.value?(i(),a("div",at,[(i(),a(y,null,w(8,r=>e("div",{key:r,class:"bg-card border border-border rounded-xl p-3 transition-all"},[...t[60]||(t[60]=[e("div",{class:"flex items-start gap-2.5 animate-pulse"},[e("div",{class:"w-10 h-10 rounded-lg bg-accent flex-shrink-0"}),s(),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"flex items-start justify-between gap-2"},[e("div",{class:"h-3.5 bg-accent rounded-md w-2/3"}),s(),e("div",{class:"h-3 bg-accent rounded-md w-14 flex-shrink-0"})]),s(),e("div",{class:"h-3 bg-accent rounded-md w-full"})]),s(),e("div",{class:"w-2 h-2 bg-accent rounded-full flex-shrink-0 mt-1"})],-1)])])),64))])):m.value.length>0?(i(),a("div",ut,[(i(!0),a(y,null,w(m.value,r=>(i(),a("div",{key:r.id,onClick:p=>N(r),class:o(["bg-card border transition-all cursor-pointer hover:bg-accent hover:border-primary/30 relative rounded-xl p-3",r.read?"border-border":"border-primary/20"])},[e("div",xt,[e("div",{class:o(["w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",g(r).bg])},[e("i",{class:o([g(r).icon,g(r).color,"text-lg"])},null,2)],2),t[63]||(t[63]=s()),e("div",pt,[e("div",bt,[e("h3",mt,d(r.title),1),t[61]||(t[61]=s()),e("span",ft,d(T(r.createdAt)),1)]),t[62]||(t[62]=s()),e("p",vt,d(r.description),1)]),t[64]||(t[64]=s()),r.read?c("",!0):(i(),a("div",ct))])],10,gt))),128))])):(i(),a("div",yt,[t[65]||(t[65]=e("div",{class:"w-16 h-16 mx-auto mb-4 rounded-full bg-accent flex items-center justify-center"},[e("i",{class:"ti ti-bell-off text-3xl text-muted-foreground"})],-1)),t[66]||(t[66]=s()),t[67]||(t[67]=e("h3",{class:"text-base font-semibold text-foreground mb-1"},"اطلاعیه‌ای وجود ندارد",-1)),t[68]||(t[68]=s()),e("p",wt,d(l.value==="all"?"شما هیچ اطلاعیه‌ای ندارید":"در این دسته‌بندی اطلاعیه‌ای یافت نشد"),1)]))])])])])]),_:1})}}},Dt=R(kt,[["__scopeId","data-v-9238259e"]]);export{Dt as default};
