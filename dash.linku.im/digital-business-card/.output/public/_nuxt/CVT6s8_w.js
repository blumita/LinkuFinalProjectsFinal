import{e as w}from"#entry";import{r as i,j as k,G as j,w as q,k as s,q as r,p as o,u,Q as L,R as E,F as v,I as b,x as a,M as F,v as M}from"./Ct89Yiyn.js";import{_ as N}from"./DlAUqK2U.js";import"./CU4qPF7-.js";import"./ngrFHoWO.js";const B={class:"min-h-screen bg-white flex flex-col items-center py-8 px-2 sm:px-6"},T={class:"w-full max-w-2xl mb-8"},V={key:0,class:"flex justify-center items-center h-20"},C={key:1,class:"text-red-500 text-center py-4"},D={key:2},H={class:"mb-6"},I={class:"flex flex-wrap gap-2"},R={key:0,class:"flex justify-center items-center h-40"},S={key:1,class:"text-red-500 text-center py-8"},z={key:2},G={class:"flex flex-col items-center justify-center text-center mb-8 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm"},Q={class:"text-3xl font-extrabold mb-4 text-gray-900 sm:text-4xl"},$={key:0,class:"text-lg sm:text-xl text-gray-900 mb-4 font-medium animate-fadein"},A={key:1,class:"text-base text-gray-700 mb-4 animate-fadein"},J={key:2,class:"text-gray-400 text-base mb-4 animate-fadein"},K=["innerHTML"],O={__name:"feature",setup(P){const m=j(),d=i(!0),c=i(""),n=i({title:"",content:""}),g=i([]),y=i(!0),f=i("");async function _(){y.value=!0,f.value="";try{const t=await fetch("/api/features");if(!t.ok)throw new Error("خطا در دریافت لیست ویژگی‌ها");const e=await t.json();g.value=e}catch(t){f.value=t.message||"خطا در دریافت لیست ویژگی‌ها"}finally{y.value=!1}}async function p(t){d.value=!0,c.value="";try{if(!t){n.value={title:"",content:""},d.value=!1;return}const e=await fetch(`/api/features/${t}`);if(!e.ok)throw new Error("خطا در دریافت اطلاعات");const l=await e.json();n.value=l}catch(e){c.value=e.message||"خطا در دریافت اطلاعات"}finally{d.value=!1}}function h(t){if(!t)return"";const e=t.replace(/<[^>]+>/g,"").trim(),l=e.split(/[.!؟\n]/)[0];return l.length>0?l:e.slice(0,60)+"..."}return k(()=>{_(),p(m.query.slug)}),q(()=>m.query.slug,t=>{t&&p(t)}),(t,e)=>{const l=w;return a(),s("section",B,[r("div",T,[y.value?(a(),s("div",V,[...e[0]||(e[0]=[r("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"},null,-1),o(),r("span",{class:"mr-2"},"در حال دریافت لیست ویژگی‌ها...",-1)])])):f.value?(a(),s("div",C,u(f.value),1)):(a(),s("div",D,[r("div",H,[e[1]||(e[1]=r("h2",{class:"text-lg font-semibold mb-2 text-gray-800"},"ویژگی‌های اشتراک",-1)),e[2]||(e[2]=o()),e[3]||(e[3]=r("p",{class:"text-gray-500 text-sm mb-3"},"در این بخش می‌توانید با امکانات و قابلیت‌های ویژه اشتراک لینکو آشنا شوید. هر ویژگی را انتخاب کنید تا توضیحات کامل آن را مشاهده کنید.",-1)),e[4]||(e[4]=o()),r("ul",I,[(a(!0),s(L,null,E(g.value,x=>(a(),s("li",{key:x.slug},[v(l,{to:{path:"/dashboard/feature",query:{slug:x.slug}},class:F(["px-3 py-1 rounded bg-gray-50 hover:bg-gray-100 text-sm transition border border-gray-200",{"bg-gray-900 text-white font-bold border-gray-900":x.slug===M(m).query.slug}])},{default:b(()=>[o(u(x.title),1)]),_:2},1032,["to","class"])]))),128))])]),e[10]||(e[10]=o()),d.value?(a(),s("div",R,[...e[5]||(e[5]=[r("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1),o(),r("span",{class:"mr-3"},"در حال بارگذاری...",-1)])])):c.value?(a(),s("div",S,u(c.value),1)):(a(),s("div",z,[r("div",G,[r("h1",Q,u(n.value.title),1),e[7]||(e[7]=o()),n.value.description?(a(),s("div",$,u(n.value.description),1)):n.value.content?(a(),s("div",A,u(h(n.value.content)),1)):(a(),s("div",J,"توضیحی برای این ویژگی ثبت نشده است.")),e[8]||(e[8]=o()),r("div",{class:"prose max-w-none w-full text-right bg-gray-50 rounded-xl p-4 border border-gray-200 mb-6",innerHTML:n.value.content},null,8,K),e[9]||(e[9]=o()),v(l,{to:"/dashboard/upgrade",class:"inline-block bg-gray-900 hover:bg-black text-white font-bold px-8 py-3 rounded-xl text-lg shadow transition-all duration-200"},{default:b(()=>[...e[6]||(e[6]=[o("خرید اشتراک و فعال‌سازی این ویژگی",-1)])]),_:1})])]))]))])])}}},ee=N(O,[["__scopeId","data-v-86e16c1d"]]);export{ee as default};
