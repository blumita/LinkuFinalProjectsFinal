import{k as D,r as p,o as T,z as j,b as l,f as e,e as o,d as m,N,O as u,t as a,x as $,i as n}from"#entry";import{u as L}from"./C2vpi6FS.js";const M={class:"min-h-screen bg-background"},R={class:"fixed top-0 left-0 right-0 z-40 bg-card border-b border-border"},z={class:"flex items-center h-14 px-4"},I={class:"pt-16 pb-8 px-4"},U={key:0,class:"max-w-2xl mx-auto space-y-4 animate-pulse"},A={key:1,class:"max-w-2xl mx-auto space-y-4"},B={class:"flex items-start gap-4"},V=["src"],E={class:"flex-1 space-y-2"},F={class:"text-xl font-bold text-foreground"},O={class:"flex items-center gap-2 text-sm text-muted-foreground"},q={key:0,class:"bg-amber-500/10 text-amber-600 dark:text-amber-400 px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5"},G={class:"flex items-center gap-2"},H={key:0,class:"bg-card border border-border rounded-2xl overflow-hidden"},J=["src"],K={class:"bg-card border border-border rounded-2xl p-6 space-y-4"},P={class:"text-foreground leading-relaxed whitespace-pre-wrap"},Q={key:1,class:"bg-card border border-border rounded-2xl p-6 space-y-4"},W=["href"],X={class:"bg-card border border-border rounded-2xl p-6 space-y-3"},Y={class:"flex items-center justify-between py-2 border-b border-border"},Z={class:"flex items-center justify-between py-2"},h={class:"text-foreground font-medium"},_={key:2,class:"max-w-2xl mx-auto text-center py-12"},ot=D({__name:"[id]",setup(tt){const v=j();$();const g=L(),f=p(!0),r=p(void 0);T(async()=>{try{const s=v.params.id;await g.fetchNotifications(),r.value=g.notifications.find(t=>String(t.id)===String(s)),r.value&&!r.value.read&&await g.markAsRead(r.value.id)}catch(s){console.error("Error loading notification:",s)}finally{f.value=!1}});const d=s=>{const t={discount_code:{icon:"ti ti-ticket",color:"text-orange-500",bg:"bg-orange-500/10"},payment_success:{icon:"ti ti-check",color:"text-green-500",bg:"bg-green-500/10"},subscription_expire:{icon:"ti ti-clock-exclamation",color:"text-amber-500",bg:"bg-amber-500/10"},first_login:{icon:"ti ti-star",color:"text-amber-500",bg:"bg-amber-500/10"}};if(s.rawType&&t[s.rawType])return t[s.rawType];const i={subscription:{icon:"ti ti-crown",color:"text-yellow-500",bg:"bg-yellow-500/10"},payment:{icon:"ti ti-credit-card",color:"text-green-500",bg:"bg-green-500/10"},security:{icon:"ti ti-shield",color:"text-red-500",bg:"bg-red-500/10"},system:{icon:"ti ti-settings",color:"text-purple-500",bg:"bg-purple-500/10"},general:{icon:"ti ti-info-circle",color:"text-blue-500",bg:"bg-blue-500/10"}};return i[s.type]||i.general},y=s=>({subscription:"اشتراک",payment:"پرداخت",security:"امنیت",system:"سیستم",general:"عمومی"})[s]||"عمومی",k=s=>{const t=new Date,i=typeof s=="string"?new Date(s):s,S=t.getTime()-i.getTime(),C=Math.floor(S/1e3),x=Math.floor(C/60),b=Math.floor(x/60),c=Math.floor(b/24);return c>7?i.toLocaleDateString("fa-IR"):c>0?`${c} روز پیش`:b>0?`${b} ساعت پیش`:x>0?`${x} دقیقه پیش`:"الان"},w=s=>(typeof s=="string"?new Date(s):s).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(s,t)=>(n(),l("div",M,[e("div",R,[e("div",z,[e("button",{onClick:t[0]||(t[0]=i=>s.$router.back()),class:"flex items-center justify-center w-10 h-10 rounded-lg text-foreground hover:bg-accent transition-colors"},[...t[2]||(t[2]=[e("i",{class:"ti ti-arrow-right text-xl"},null,-1)])]),t[3]||(t[3]=o()),t[4]||(t[4]=e("h1",{class:"flex-1 text-lg font-semibold text-foreground"},"جزئیات اطلاعیه",-1))])]),t[33]||(t[33]=o()),e("div",I,[f.value?(n(),l("div",U,[...t[5]||(t[5]=[e("div",{class:"h-32 bg-accent rounded-xl"},null,-1),o(),e("div",{class:"h-24 bg-accent rounded-xl"},null,-1),o(),e("div",{class:"h-48 bg-accent rounded-xl"},null,-1)])])):r.value?(n(),l("div",A,[e("div",{class:"bg-card border border-border rounded-2xl p-6 space-y-4",style:N(r.value.backgroundColor?{backgroundColor:r.value.backgroundColor}:{})},[e("div",B,[e("div",{class:u(["w-16 h-16 rounded-xl flex items-center justify-center flex-shrink-0",r.value.backgroundColor?"bg-white/20":d(r.value).bg])},[r.value.iconUrl?(n(),l("img",{key:0,src:r.value.iconUrl,class:"w-full h-full object-cover rounded-xl",alt:"Icon"},null,8,V)):(n(),l("i",{key:1,class:u([d(r.value).icon,r.value.backgroundColor?"text-white":d(r.value).color,"text-3xl"])},null,2))],2),t[10]||(t[10]=o()),e("div",E,[e("h2",F,a(r.value.title),1),t[8]||(t[8]=o()),e("div",O,[t[6]||(t[6]=e("i",{class:"ti ti-clock text-base"},null,-1)),t[7]||(t[7]=o()),e("span",null,a(k(r.value.createdAt)),1)])]),t[11]||(t[11]=o()),r.value.is_pinned?(n(),l("div",q,[...t[9]||(t[9]=[e("i",{class:"ti ti-pin text-sm"},null,-1),o(),e("span",null,"سنجاق شده",-1)])])):m("",!0)]),t[12]||(t[12]=o()),e("div",G,[e("span",{class:u(["px-3 py-1.5 rounded-full text-xs font-medium",d(r.value).bg,d(r.value).color])},a(y(r.value.type)),3)])],4),t[23]||(t[23]=o()),r.value.imageUrl?(n(),l("div",H,[e("img",{src:r.value.imageUrl,class:"w-full h-auto object-cover",alt:"Notification Image"},null,8,J)])):m("",!0),t[24]||(t[24]=o()),e("div",K,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-foreground"},"پیام",-1)),t[14]||(t[14]=o()),e("p",P,a(r.value.description),1)]),t[25]||(t[25]=o()),r.value.actionLink?(n(),l("div",Q,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-foreground"},"لینک عملیات",-1)),t[17]||(t[17]=o()),e("a",{href:r.value.actionLink,target:"_blank",rel:"noopener noreferrer",class:"flex items-center justify-between p-4 bg-primary/10 hover:bg-primary/20 rounded-xl transition-colors group"},[...t[15]||(t[15]=[e("div",{class:"flex items-center gap-3"},[e("i",{class:"ti ti-link text-primary text-xl"}),o(),e("span",{class:"text-primary font-medium"},"باز کردن لینک")],-1),o(),e("i",{class:"ti ti-external-link text-primary text-lg group-hover:translate-x-1 transition-transform"},null,-1)])],8,W)])):m("",!0),t[26]||(t[26]=o()),e("div",X,[e("div",Y,[t[18]||(t[18]=e("span",{class:"text-muted-foreground"},"وضعیت",-1)),t[19]||(t[19]=o()),e("span",{class:u([r.value.read?"text-green-600":"text-blue-600","font-medium flex items-center gap-2"])},[e("i",{class:u(r.value.read?"ti ti-check":"ti ti-bell-ringing")},null,2),o(" "+a(r.value.read?"خوانده شده":"خوانده نشده"),1)],2)]),t[22]||(t[22]=o()),e("div",Z,[t[20]||(t[20]=e("span",{class:"text-muted-foreground"},"تاریخ دریافت",-1)),t[21]||(t[21]=o()),e("span",h,a(w(r.value.createdAt)),1)])])])):(n(),l("div",_,[t[27]||(t[27]=e("div",{class:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/10 flex items-center justify-center"},[e("i",{class:"ti ti-alert-circle text-red-500 text-4xl"})],-1)),t[28]||(t[28]=o()),t[29]||(t[29]=e("h3",{class:"text-xl font-semibold text-foreground mb-2"},"اطلاعیه یافت نشد",-1)),t[30]||(t[30]=o()),t[31]||(t[31]=e("p",{class:"text-muted-foreground mb-6"},"این اطلاعیه حذف شده یا وجود ندارد",-1)),t[32]||(t[32]=o()),e("button",{onClick:t[1]||(t[1]=i=>s.$router.back()),class:"px-6 py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors"},`\r
          بازگشت به لیست اطلاعیه‌ها\r
        `)]))])]))}});export{ot as default};
