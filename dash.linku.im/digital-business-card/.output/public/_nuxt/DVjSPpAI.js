import{r as C,c as d,o as N,L as T,C as k,i as f,y as B,E as _,b as y,d as x,f as i,O as m,e as b,t as g,T as E,$ as S,p as V,a1 as I}from"#entry";const z={key:0,class:"fixed top-8 left-1/2 -translate-x-1/2 z-[99999]"},O={class:"flex flex-col flex-1 min-w-0"},$={class:"font-semibold text-sm text-white truncate"},j={key:0,class:"text-xs text-white/70 truncate"},q={__name:"Toast",props:{title:{type:String,required:!0},message:{type:String,default:""},type:{type:String,default:"success",validator:e=>["success","error","info","warning"].includes(e)},duration:{type:Number,default:2500},autoClose:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:s}){const t=e,r=s,o=C(!1);let n=null;const u=d(()=>{switch(t.type){case"success":return"bg-emerald-600/95 border border-emerald-400/20";case"error":return"bg-red-600/95 border border-red-400/20";case"warning":return"bg-amber-600/95 border border-amber-400/20";case"info":return"bg-blue-600/95 border border-blue-400/20";default:return"bg-emerald-600/95 border border-emerald-400/20"}}),h=d(()=>"bg-white/20"),v=d(()=>{switch(t.type){case"success":return"ti ti-check";case"error":return"ti ti-x";case"warning":return"ti ti-alert-triangle";case"info":return"ti ti-info-circle";default:return"ti ti-check"}}),w=d(()=>"text-white"),p=()=>{o.value=!1,n&&clearTimeout(n),r("close")};return N(()=>{o.value=!0,t.autoClose&&t.duration&&(n=setTimeout(()=>{p()},t.duration))}),T(()=>{n&&clearTimeout(n)}),(H,l)=>(f(),k(S,{to:"body"},[B(E,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-8 scale-90","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 -translate-y-4 scale-95"},{default:_(()=>[o.value?(f(),y("div",z,[i("div",{class:m(["flex items-center gap-3 px-5 py-3.5 rounded-2xl shadow-2xl backdrop-blur-2xl","min-w-[200px] max-w-[90vw]",u.value]),onClick:p},[i("div",{class:m(["w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0",h.value])},[i("i",{class:m([v.value,"text-xl",w.value])},null,2)],2),l[1]||(l[1]=b()),i("div",O,[i("span",$,g(e.title),1),l[0]||(l[0]=b()),e.message?(f(),y("span",j,g(e.message),1)):x("",!0)])],2)])):x("",!0)]),_:1})]))}};let a=[],A=0;const c=e=>{if(typeof document>"u")return 0;const s=++A,t={id:s,title:e.title||"اعلان",message:e.message||"",type:e.type||"success",duration:e.duration??3e3,autoClose:e.autoClose??!0,...e},r=document.createElement("div");r.id=`toast-${s}`,document.body.appendChild(r);const o=V(q,{...t,onClose:()=>{r.parentNode&&r.parentNode.removeChild(r);const n=a.findIndex(u=>u.id===s);n>-1&&a.splice(n,1)}});return I(o,r),a.push({id:s,container:r,vnode:o,title:t.title,message:t.message,type:t.type,duration:t.duration,autoClose:t.autoClose}),s},D=(e,s="",t={})=>c({title:e,message:s,type:"success",...t}),L=(e,s="",t={})=>c({title:e,message:s,type:"error",duration:5e3,...t}),M=(e,s="",t={})=>c({title:e,message:s,type:"info",...t}),U=(e,s="",t={})=>c({title:e,message:s,type:"warning",duration:4e3,...t}),F=e=>{if(typeof document>"u")return;const s=a.find(t=>t.id===e);if(s&&s.container.parentNode){s.container.parentNode.removeChild(s.container);const t=a.findIndex(r=>r.id===e);t>-1&&a.splice(t,1)}},G=()=>{typeof document>"u"||(a.forEach(e=>{e.container.parentNode&&e.container.parentNode.removeChild(e.container)}),a=[])},K=()=>({show:c,success:D,error:L,info:M,warning:U,close:F,clearAll:G,toasts:()=>[...a]});export{q as _,K as u};
