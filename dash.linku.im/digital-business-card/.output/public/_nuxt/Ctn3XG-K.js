import{k,b as n,d as f,e as l,f as e,t as i,ae as y,P as w,Q as _,x as h,i as a,y as N,E as B,O as p,F as T,r as v,c as L,o as S,z as j,C as z,h as E,N as I}from"#entry";import{_ as D}from"./DlAUqK2U.js";import{u as M}from"./DVjSPpAI.js";const P={class:"min-h-screen bg-background"},V={key:0,class:"fixed top-0 left-0 right-0 z-40 bg-background/95 backdrop-blur-sm border-b border-border"},A={class:"flex items-center justify-between px-4 h-16"},R={key:1,class:"w-10"},F={class:"text-lg font-semibold text-foreground"},K={class:"w-10"},O={key:1,class:"fixed bottom-0 left-0 right-0 z-40 bg-background/95 backdrop-blur-sm border-t border-border"},U={class:"flex items-center justify-around h-16"},q={class:"text-xs mt-1"},Q=k({__name:"MobileLayout",props:{pageTitle:{type:String,default:""},showBackButton:{type:Boolean,default:!1},showBottomNav:{type:Boolean,default:!0}},setup(d){const x=h(),b=[{icon:"ti ti-home",label:"خانه",to:"/"},{icon:"ti ti-user",label:"پروفایل",to:"/profile"},{icon:"ti ti-gift",label:"جوایز",to:"/rewards"},{icon:"ti ti-settings",label:"تنظیمات",to:"/settings"}],m=()=>{x.back()};return(c,o)=>{const s=T;return a(),n("div",P,[d.pageTitle||d.showBackButton?(a(),n("header",V,[e("div",A,[d.showBackButton?(a(),n("button",{key:0,onClick:m,class:"p-2 -ml-2 text-foreground hover:bg-muted rounded-lg transition-colors"},[...o[0]||(o[0]=[e("i",{class:"ti ti-arrow-right text-xl"},null,-1)])])):(a(),n("div",R)),o[1]||(o[1]=l()),e("h1",F,i(d.pageTitle),1),o[2]||(o[2]=l()),e("div",K,[y(c.$slots,"header-right",{},void 0,!0)])])])):f("",!0),o[4]||(o[4]=l()),e("main",null,[y(c.$slots,"default",{},void 0,!0)]),o[5]||(o[5]=l()),d.showBottomNav?(a(),n("nav",O,[e("div",U,[(a(),n(w,null,_(b,u=>N(s,{key:u.to,to:u.to,class:"flex flex-col items-center justify-center p-2 text-muted-foreground hover:text-primary transition-colors","active-class":"text-primary"},{default:B(()=>[e("i",{class:p([u.icon,"text-xl"])},null,2),o[3]||(o[3]=l()),e("span",q,i(u.label),1)]),_:2},1032,["to"])),64))])])):f("",!0)])}}}),W=D(Q,[["__scopeId","data-v-17b8c352"]]),G={class:"pt-[68px] pb-20"},H={key:0,class:"space-y-6 animate-pulse p-6"},J={class:"space-y-4"},X={key:1,class:"space-y-6"},Y={class:"relative mx-6 rounded-2xl overflow-hidden h-48"},Z=["src","alt"],tt={key:1,class:"absolute inset-0 bg-gradient-to-br from-primary/20 via-primary/10 to-accent/20"},et={class:"px-6 text-center"},st={class:"text-2xl font-bold mb-3"},ot={class:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full font-bold text-lg"},lt={class:"px-6"},at={class:"bg-card border border-border rounded-xl p-4"},nt={class:"text-muted-foreground leading-relaxed text-center"},rt={class:"px-6"},it={class:"flex justify-center"},dt={key:2,class:"text-center py-12 px-6"},ut={key:0,class:"fixed bottom-0 left-0 right-0 bg-card/98 backdrop-blur-md border-t border-border p-4 z-50 shadow-2xl"},ct=["disabled"],pt={class:"text-lg font-black tracking-wide"},xt=k({__name:"DiscountDetailPage",setup(d){const x=h(),b=j(),{quickSuccess:m}=M(),c=v(!0),o=v(!1),s=v(null),u=[{id:"1",title:"تخفیف ویژه اشتراک پریمیوم",description:"20% تخفیف برای خرید اشتراک پریمیوم سالانه. این تخفیف ویژه فقط برای کاربران جدید لینکو طراحی شده و فرصت استثنایی برای بهره‌مندی از امکانات پیشرفته پلتفرم است.",code:"PREMIUM20",value:20,type:"percentage",status:"active",expiryDate:"2025-12-31",minAmount:5e5},{id:"2",title:"تخفیف خرید محصولات لینکو",description:"50,000 ریال تخفیف برای خرید دستگاه‌های لینکو",code:"LINKU50K",value:5e4,type:"fixed",status:"active",expiryDate:"2025-11-30",minAmount:2e5},{id:"3",title:"تخفیف مشتری جدید",description:"15% تخفیف برای اولین خرید",code:"WELCOME15",value:15,type:"percentage",status:"used",expiryDate:"2025-10-15"}];L(()=>s.value?new Date(s.value.expiryDate)<new Date:!1);const $=r=>{switch(r){case"active":return"فعال";case"expired":return"منقضی";case"used":return"استفاده شده";default:return"نامشخص"}},C=async()=>{if(s.value)try{const r=s.value.code;if(navigator.clipboard)await navigator.clipboard.writeText(r);else{const t=document.createElement("textarea");t.value=r,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}o.value=!0,m("کپی شد!",`کد ${r} در کلیپ‌بورد شما کپی شد`),setTimeout(()=>{o.value=!1},2e3)}catch(r){r("خطا در کپی ❌","امکان کپی کردن کد تخفیف وجود ندارد")}};return S(()=>{const r=b.params.id;s.value=u.find(t=>t.id===r)||null,s.value}),(r,t)=>(a(),z(W,{"page-title":"جزئیات تخفیف","show-back-button":!0,"show-bottom-nav":!1},{default:B(()=>[e("div",G,[c.value?s.value?(a(),n("div",X,[e("div",Y,[s.value.banner||s.value.image?(a(),n("img",{key:0,src:s.value.banner||s.value.image,alt:s.value.title,class:"absolute inset-0 w-full h-full object-cover"},null,8,Z)):(a(),n("div",tt))]),t[6]||(t[6]=l()),e("div",et,[e("h1",st,i(s.value.title),1),t[5]||(t[5]=l()),e("div",ot,[t[4]||(t[4]=e("i",{class:"ti ti-discount text-xl"},null,-1)),l(" "+i(s.value.value)+i(s.value.type==="percentage"?"%":" ریال"),1)])]),t[7]||(t[7]=l()),e("div",lt,[e("div",at,[e("p",nt,i(s.value.description),1)])]),t[8]||(t[8]=l()),e("div",rt,[e("div",it,[e("span",{class:p(["inline-block text-sm px-4 py-2 rounded-full font-medium",s.value.status==="active"?"bg-success/10 text-success":s.value.status==="expired"?"bg-warning/10 text-warning":"bg-muted text-muted-foreground"])},i($(s.value.status)),3)])])])):(a(),n("div",dt,[t[9]||(t[9]=e("i",{class:"ti ti-discount-off text-muted-foreground text-6xl mb-4"},null,-1)),t[10]||(t[10]=l()),t[11]||(t[11]=e("h3",{class:"text-lg font-bold text-foreground mb-2"},"تخفیف یافت نشد",-1)),t[12]||(t[12]=l()),t[13]||(t[13]=e("p",{class:"text-muted-foreground mb-6"},"تخفیف مورد نظر شما یافت نشد یا حذف شده است",-1)),t[14]||(t[14]=l()),e("button",{onClick:t[0]||(t[0]=g=>E(x).back()),class:"bg-primary text-white px-6 py-2 rounded-xl"},`\r
          بازگشت\r
        `)])):(a(),n("div",H,[t[2]||(t[2]=e("div",{class:"bg-muted p-6 rounded-2xl h-48"},null,-1)),t[3]||(t[3]=l()),e("div",J,[(a(),n(w,null,_(3,g=>e("div",{key:g,class:"bg-card border border-border p-4 rounded-xl"},[...t[1]||(t[1]=[e("div",{class:"h-4 w-full bg-muted rounded mb-2"},null,-1),l(),e("div",{class:"h-4 w-3/4 bg-muted-foreground/20 rounded"},null,-1)])])),64))])]))]),t[16]||(t[16]=l()),s.value&&s.value.status==="active"?(a(),n("div",ut,[e("button",{onClick:C,disabled:o.value,class:p(["w-full py-4 px-6 rounded-2xl font-bold transition-all flex items-center justify-center gap-3 text-lg shadow-lg",o.value?"bg-success/90 text-white scale-95 ring-2 ring-success/50":"bg-gradient-to-r from-primary to-primary/90 text-white hover:shadow-xl hover:scale-[1.02] active:scale-95"])},[e("i",{class:p([o.value?"ti ti-check":"ti ti-copy","text-2xl transition-all duration-300"]),style:I({transform:o.value?"scale(1.3) rotate(360deg)":"scale(1)"})},null,6),t[15]||(t[15]=l()),e("span",pt,i(o.value?"کپی شد!":`کپی کد: ${s.value.code}`),1)],10,ct)])):f("",!0)]),_:1}))}}),ft=D(xt,[["__scopeId","data-v-d5623327"]]);export{ft as default};
