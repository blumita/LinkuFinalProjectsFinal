import{r as C,d,j as k,K as N,H as T,x as f,F as B,I as _,k as y,l as x,q as i,M as m,p as b,u as g,T as I,X as S,B as V,Y as E}from"./Ct89Yiyn.js";const j={key:0,class:"fixed top-8 left-1/2 -translate-x-1/2 z-[99999]"},q={class:"flex flex-col flex-1 min-w-0"},z={class:"font-semibold text-sm text-white truncate"},M={key:0,class:"text-xs text-white/70 truncate"},A={__name:"Toast",props:{title:{type:String,required:!0},message:{type:String,default:""},type:{type:String,default:"success",validator:e=>["success","error","info","warning"].includes(e)},duration:{type:Number,default:2500},autoClose:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:s}){const t=e,r=s,o=C(!1);let n=null;const u=d(()=>{switch(t.type){case"success":return"bg-emerald-600/95 border border-emerald-400/20";case"error":return"bg-red-600/95 border border-red-400/20";case"warning":return"bg-amber-600/95 border border-amber-400/20";case"info":return"bg-blue-600/95 border border-blue-400/20";default:return"bg-emerald-600/95 border border-emerald-400/20"}}),h=d(()=>"bg-white/20"),v=d(()=>{switch(t.type){case"success":return"ti ti-check";case"error":return"ti ti-x";case"warning":return"ti ti-alert-triangle";case"info":return"ti ti-info-circle";default:return"ti ti-check"}}),w=d(()=>"text-white"),p=()=>{o.value=!1,n&&clearTimeout(n),r("close")};return k(()=>{o.value=!0,t.autoClose&&t.duration&&(n=setTimeout(()=>{p()},t.duration))}),N(()=>{n&&clearTimeout(n)}),(Y,c)=>(f(),T(S,{to:"body"},[B(I,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-8 scale-90","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 -translate-y-4 scale-95"},{default:_(()=>[o.value?(f(),y("div",j,[i("div",{class:m(["flex items-center gap-3 px-5 py-3.5 rounded-2xl shadow-2xl backdrop-blur-2xl","min-w-[200px] max-w-[90vw]",u.value]),onClick:p},[i("div",{class:m(["w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0",h.value])},[i("i",{class:m([v.value,"text-xl",w.value])},null,2)],2),c[1]||(c[1]=b()),i("div",q,[i("span",z,g(e.title),1),c[0]||(c[0]=b()),e.message?(f(),y("span",M,g(e.message),1)):x("",!0)])],2)])):x("",!0)]),_:1})]))}};let a=[],D=0;const l=e=>{if(typeof document>"u")return 0;const s=++D,t={id:s,title:e.title||"اعلان",message:e.message||"",type:e.type||"success",duration:e.duration??3e3,autoClose:e.autoClose??!0,...e},r=document.createElement("div");r.id=`toast-${s}`,document.body.appendChild(r);const o=V(A,{...t,onClose:()=>{r.parentNode&&r.parentNode.removeChild(r);const n=a.findIndex(u=>u.id===s);n>-1&&a.splice(n,1)}});return E(o,r),a.push({id:s,container:r,vnode:o,title:t.title,message:t.message,type:t.type,duration:t.duration,autoClose:t.autoClose}),s},F=(e,s="",t={})=>l({title:e,message:s,type:"success",...t}),H=(e,s="",t={})=>l({title:e,message:s,type:"error",duration:5e3,...t}),K=(e,s="",t={})=>l({title:e,message:s,type:"info",...t}),O=(e,s="",t={})=>l({title:e,message:s,type:"warning",duration:4e3,...t}),U=e=>{if(typeof document>"u")return;const s=a.find(t=>t.id===e);if(s&&s.container.parentNode){s.container.parentNode.removeChild(s.container);const t=a.findIndex(r=>r.id===e);t>-1&&a.splice(t,1)}},X=()=>{typeof document>"u"||(a.forEach(e=>{e.container.parentNode&&e.container.parentNode.removeChild(e.container)}),a=[])},G=()=>({show:l,success:F,error:H,info:K,warning:O,close:U,clearAll:X,toasts:()=>[...a]});export{A as _,G as u};
